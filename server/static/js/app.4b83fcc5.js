(function(e){function t(t){for(var r,i,s=t[0],c=t[1],l=t[2],d=0,p=[];d<s.length;d++)i=s[d],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);u&&u(t);while(p.length)p.shift()();return o.push.apply(o,l||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var l=0;l<s.length;l++)t(s[l]);var u=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"0352":function(e,t,n){"use strict";var r=n("f891"),a=n.n(r);a.a},1:function(e,t){},1355:function(e,t,n){},"16b4":function(e,t,n){},"179b":function(e,t,n){"use strict";var r=n("da6d"),a=n.n(r);a.a},"1fe8":function(e,t,n){"use strict";var r=n("b570"),a=n.n(r);a.a},"235a":function(e,t,n){},"28d7":function(e,t,n){"use strict";var r=n("94bf"),a=n.n(r);a.a},"2b7e":function(e,t,n){"use strict";var r=n("4683"),a=n.n(r);a.a},"31c3":function(e,t,n){},3714:function(e,t,n){"use strict";var r=n("c55b"),a=n.n(r);a.a},"3ded":function(e,t,n){},"433f":function(e,t,n){},4683:function(e,t,n){},"4af8":function(e,t,n){"use strict";var r=n("a781"),a=n.n(r);a.a},"56cc":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);n("cadf"),n("551c"),n("f751"),n("097d");var r,a,o=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},s=[],c={name:"App"},l=c,u=(n("cf25"),n("2877")),d=Object(u["a"])(l,i,s,!1,null,null,null),p=d.exports,m=n("8c4f"),f=(n("ac6a"),n("4917"),n("3b2b"),n("a481"),n("28a5"),n("6b54"),{dayTime:864e5,type:function(e){return Object.prototype.toString.call(e)},isObject:function(e){return"[object Object]"===this.type(e)},isArray:function(e){return"[object Array]"===this.type(e)},isString:function(e){return"[object String]"===this.type(e)},isNumber:function(e){return"[object Number]"===this.type(e)},isDate:function(e){return"[object Date]"===this.type(e)},isFunction:function(e){return"[object Function]"===this.type(e)},isEqual:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return JSON.stringify(e)===JSON.stringify(t)},equal:function(e,t){return JSON.stringify(e)===JSON.stringify(t)},random:function(e,t){return Math.round(Math.random()*(t-e))+e},guid:function(){function e(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},clone:function(e){if(this.isObject(e)){var t={};for(var n in e){var r=e[n];t[n]=this.clone(r)}return t}if(this.isArray(e)){for(var a=[],o=0;o<e.length;o++){var i=e[o];a.push(this.clone(i))}return a}return e},mergeObject:function(e,t){for(var n in e=e||{},t=t||{},e)if(this.isObject(e[n]))t[n]=t[n]?t[n]:{},this.mergeObject(e[n],t[n]);else if(this.isArray(e[n]))if(t[n]&&t[n]!==[]){var r=0,a=t[n].length,o=e[n].length;for(r;r<a&&r<o;r++)t[n][r]=this.mergeObject(e[n][r],t[n][r])}else t[n]=e[n];else t[n]=null===t[n]||void 0===t[n]?e[n]:t[n];return t},toThousands:function(e){var t=String(e).split(".");return t[0]=t[0].replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1,"),t.join(".")},toDoubleNumber:function(e){return e+="",e>9?e:"0"+e},dateFormat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-mm-dd";return t.replace("yyyy",e.getFullYear()).replace("mm",this.toDoubleNumber(e.getMonth()+1)).replace("dd",this.toDoubleNumber(e.getDate()))},timeFormat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hh:mm:ss",n=arguments.length>2?arguments[2]:void 0;if(this.isDate(e))return t.replace("hh",this.toDoubleNumber(e.getHours())).replace("mm",this.toDoubleNumber(e.getMinutes())).replace("ss",this.toDoubleNumber(e.getSeconds()));if(this.isNumber(e)){var r=parseInt((parseFloat(e)/1e3).toFixed(0)),a=parseInt(r/60),o=parseInt(a/60);return r-=60*a,a-=60*o,o||!n||(t=t.replace(/hh\S*?mm/,"mm"),a)?t.replace("hh",this.toDoubleNumber(o)).replace("mm",this.toDoubleNumber(a)).replace("ss",this.toDoubleNumber(r)):(t=t.replace(/mm\S*?ss/,"ss"),t.replace("ss",r))}},initializeConstants:function(e,t){for(var n in e){var r=e[n];f.isObject(r)?this.initializeConstants(r,"".concat(t,"-").concat(n)):e[n]="".concat(t,"-").concat(n)}},loadImage:function(e){var t=document.getElementById("zg-util-img-loader");if(!t){var n=document.createElement("canvas");n.setAttribute("id","zg-util-img-loader"),n.style.position="fixed",n.style.top="-999999px",document.body.appendChild(n),t=n}return new Promise((function(n,r){var a=new Image;a.crossOrigin="anonymous",a.onload=function(){var e=t.getContext("2d");t.setAttribute("width",a.width),t.setAttribute("height",a.height),e.clearRect(0,0,99999,99999),e.drawImage(a,0,0,a.width,a.height),n(t.toDataURL())},a.onabort=a.oncancel=a.onerror=function(e){r(e)},a.src=e}))},strMiddleSplit:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxLength:20,beginLength:8,endLength:8,replaceStr:"..."};e+="";var n={fullCharReg:/[^\x00-\xff]/,fullCharsReg:/[^\x00-\xff]/g,anyChars:/[\S\s]{1}/g},r=(e.match(n.fullCharsReg)||[]).length,a=e.length+r,o=[],i=0,s=[],c=0;if(a>t.maxLength){var l=e.match(n.anyChars);return l.forEach((function(e){if(!(i>=t.beginLength)){var r=n.fullCharReg.test(e)?2:1;i+=r,o.push(e)}})),l.reverse().forEach((function(e){if(!(c>=t.endLength)){var r=n.fullCharReg.test(e)?2:1;c+=r,s.push(e)}})),o.join("")+t.replaceStr+s.reverse().join("")}return e},copy:function(e){return new Promise((function(t,n){var r="zgClipboardInput";if(!document.getElementById(r)){var a=document.createElement("input");a.type="text",a.id=r,a.style="position: fixed; top: -9999999px; z-index: -9999999",document.body.appendChild(a)}var o=document.getElementById(r);o.value=e,o.focus(),o.setSelectionRange(0,e.length);var i=!1;i=document.execCommand("copy",!0),i?t():n(new Error("copy failed"))}))},bind:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n},getWheelEventName:function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},treeLoop:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{callback:function(){},childrenField:"children"};n.callback(e),e[n.childrenField].length&&e[n.childrenField].forEach((function(e){t.treeLoop(e,n)}))}}),h=f,v=n("bc3a"),b=n.n(v),y={SUCCESS:100,Error:101,NO_PERMISSION:103,NOT_LOGIN:102,PARAM_NULL:104},g=b.a.CancelToken;function j(e){var t=!0,n=e.data.code;switch(n&&(n=parseInt(n)),n){case y.NO_PERMISSION:t=!1;break;case y.NOT_LOGIN:t=!1,/\/login/.test(window.location.href);break;case y.Error:t=!1;break;case y.PARAM_NULL:t=!1;break;case y.SUCCESS:break;default:console.warn("非标准状态码",e.data)}return t}function O(e){return/^2\d+/.test(e)}var w=function(e){e=h.mergeObject({method:"post",url:"",data:null,baseURL:"/",unique:!1,withCredentials:!0},e);var t=/\{\S*?\}/g;if(t.test(e.url)){var n=e.url.match(t);n.forEach((function(t){var n=t.replace(/[\{\}]/g,"");e.url=e.url.replace(t,e.data[n]),delete e.data[n]}))}return e.cancelToken||(r&&delete r["cancelToken"],(h.isEqual(e,r)||e.unique&&r&&r.url===e.url)&&a(),e.cancelToken=new g((function(e){a=e})),r=e),new Promise((function(t,n){b()(e).then((function(e){O(e.status)&&j(e)?t(e.data):n(new Error(JSON.stringify({message:"请求状态或接口状态码错误",request:e.request.responseURL,response:e.data.data})))})).catch((function(e){b.a.isCancel(e)||(window.vue&&window.vue.$message({type:"error",message:"系统或网络错误"}),n(e))}))}))},_=(n("a78e"),{index:"",project:{create:"",manage:""},console:{index:"",dev:"",doc:"",setting:""},doc:"",login:"",register:""});h.initializeConstants(_,"router");var C=_,k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"index"},[n("router-view")],1)},x=[],P=(n("7f7f"),n("6762"),n("2fdb"),{demo:{queryData:"/data/queryDemoData"},user:{login:"/api/user/login",logout:"/api/user/logout",getCurrent:"/api/user/getCurrent",add:"/api/user/add",update:"/api/user/update",query:"/api/user/query",invite:"/api/user/invite",removeMember:"/api/user/removeMember"},project:{query:"/api/project/query",getById:"/api/project/{id}",create:"/api/project/add",del:"/api/project/del/{id}",queryProxyServer:"/api/proxy/{projectId}",update:"/api/project/update"},api:{queryGroup:"/api/apiGroup/list",getById:"/api/{id}",update:"/api/update",addGroup:"/api/apiGroup/add",updateGroup:"/api/apiGroup/update",deleteGroup:"/api/apiGroup/delete/{id}/{projectId}",del:"/api/del/{id}",add:"/api/add",updateList:"/api/update/list"}}),S=P,$={demo:{getFirst:""}};h.initializeConstants($,"getter");var L=$,D={demo:{update:""},user:{setUser:"",update:"",setList:"",addMember:"",removeMember:""},project:{setList:"",setCurrent:"",del:"",setProxyServerList:""},api:{setGroupList:"",addGroup:"",updateGroup:"",del:""}};h.initializeConstants(D,"mutation");var E=D,A={demo:{queryData:""},user:{login:"",logout:"",getUser:"",addUser:"",update:"",query:"",invite:"",removeMember:""},project:{query:"",getById:"",create:"",del:"",queryProxyServer:"",update:""},api:{queryGroup:"",addGroup:"",updateGroup:"",delGroup:"",getById:"",update:"",add:"",del:"",updateList:""}};h.initializeConstants(A,"action");var N=A,I={name:"layout",data:function(){return{msg:"index"}},beforeCreate:function(){var e=this;[C.login,C.register,C.doc].includes(this.$route.name)||this.$store.dispatch(N.user.getUser).catch((function(t){e.$router.push({name:C.login}),console.error("用户未登录",t)}))}},M=I,U=(n("3714"),Object(u["a"])(M,k,x,!1,null,null,null)),F=U.exports,G=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"project-create"},[n("span",{staticClass:"brand"},[e._v("cleverMock")]),e._m(0),n("ul",{staticClass:"form-panel"},[n("li",[n("span",[e._v("项目名称：")]),n("c-input",{attrs:{size:"big",width:400,autoFocus:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),n("li",[n("span",[e._v("代理地址：")]),n("c-input",{attrs:{size:"big",width:400,placeholder:"http://proxy.domain.com"},model:{value:e.proxyUrl,callback:function(t){e.proxyUrl=t},expression:"proxyUrl"}})],1),n("li",[n("span",[e._v("描述：")]),n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.desc,expression:"desc"}],attrs:{rows:"8"},domProps:{value:e.desc},on:{input:function(t){t.target.composing||(e.desc=t.target.value)}}})]),n("li",[n("c-button",{staticClass:"btn-save",attrs:{size:"large",type:"primary"},on:{click:e.onSave}},[e._v("保存")])],1)])])},q=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"title-panel"},[n("div",{staticClass:"title"},[e._v("创建项目")])])}],T={name:"projectCreate",data:function(){return{name:"",proxyUrl:"",desc:""}},methods:{onSave:function(){var e=this;this.$store.dispatch(N.project.create,{name:this.name,proxyUrl:this.proxyUrl,desc:this.desc}).then((function(t){e.$router.replace({name:C.console.index,params:{id:t.id}})})).catch((function(t){e.$message({type:"error",message:"创建项目失败"}),console.error("创建项目失败",t)}))}}},R=T,z=(n("0352"),Object(u["a"])(R,G,q,!1,null,null,null)),B=z.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"project-manage"},[n("div",{staticClass:"title-panel"},[n("div",{staticClass:"title"},[e._v("项目列表")]),n("c-button",{attrs:{type:"primary",size:"large"},on:{click:e.onCreateProject}},[e._v("创建项目")]),n("span",{staticClass:"logout",on:{click:e.onLogout}},[e._v("\n      "+e._s(e.currentUser.name||e.currentUser.email)),n("i",{staticClass:"mock-logout"})])],1),n("div",{staticClass:"project-list"},[e._l(e.projectList,(function(t){return n("div",{key:t.id,staticClass:"project-item",on:{click:function(n){return e.onClickProject(t)}}},[e._m(0,!0),0===t.role?n("i",{staticClass:"mock-error_filled btn-del",on:{click:function(n){return n.stopPropagation(),e.onDel(t)}}}):e._e(),n("div",{staticClass:"project-desc"},[n("c-tooltip",{attrs:{placement:"right",content:"项目名称"}},[e._v(e._s(t.name))]),n("br"),n("c-tooltip",{attrs:{placement:"right",content:"创建人"}},[e._v(e._s(t.username))]),n("br"),n("c-tooltip",{attrs:{placement:"right",content:"创建时间"}},[e._v(e._s(e.timeFormat(t.createTime)))])],1)])})),e.loading?n("c-loading"):e._e(),e.queryField?n("c-reload",{on:{reload:e.query}}):e._e(),e.loading||e.queryField||e.projectList.length?e._e():n("div",{staticClass:"empty-tip"},[e._v("暂无数据")])],2)])},V=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"project-logo"},[n("i",{staticClass:"mock-package"}),n("span",{staticClass:"project-status running"})])}],W=(n("8e6e"),n("456d"),n("bd86")),H=n("2f62");function K(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Y(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?K(Object(n),!0).forEach((function(t){Object(W["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):K(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Q={name:"projectManage",computed:Y({},Object(H["b"])({projectList:function(e){return e.project.list},queryField:function(e){return e.project.error.list},loading:function(e){return!e.project.ready.list},currentUser:function(e){return e.user.user||{}}})),created:function(){this.query()},methods:{query:function(){this.$store.dispatch(N.project.query)},onCreateProject:function(){this.$router.push({name:C.project.create})},onClickProject:function(e){this.$router.push({name:C.console.index,params:{id:e.id}})},timeFormat:function(e){var t=new Date(e);return h.dateFormat(t)+" "+h.timeFormat(t,"hh:mm")},onDel:function(e){var t=this;this.$store.dispatch(N.project.del,e.id).catch((function(e){t.$message({type:"error",message:"删除项目失败"}),console.error("删除项目失败",e)}))},onLogout:function(){var e=this;this.$store.dispatch(N.user.logout).then((function(){e.$router.push({name:C.login})})).catch((function(t){e.$message({type:"error",message:"退出账号失败"}),console.error("退出账号失败",t)}))}}},X=Q,Z=(n("8f18"),Object(u["a"])(X,J,V,!1,null,null,null)),ee=Z.exports,te=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[n("span",{staticClass:"brand"},[e._v("CleverMock")]),n("div",{staticClass:"form-panel"},[n("div",{staticClass:"title"},[e._v("登录")]),n("c-input",{attrs:{size:"big",autoFocus:"","clear-able":"",placeholder:"用户名或邮箱"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),n("c-input",{attrs:{size:"big",type:"password",placeholder:"密码"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),n("c-button",{attrs:{size:"large",type:"primary"},on:{click:e.onLogin}},[e._v("登录")]),n("div",{staticClass:"ref-links"},[e._v("\n      还没有账号？立即"),n("a",{attrs:{href:"javascript:void(0)"},on:{click:e.toReg}},[e._v("注册")]),n("br"),n("a",{staticStyle:{display:"block","text-align":"center","margin-top":"20px"},attrs:{href:"http://www.miitbeian.gov.cn",target:"_blank"}},[e._v("冀ICP备18028016号-1")])])],1)])},ne=[],re={name:"login",data:function(){return{username:"",password:""}},methods:{onLogin:function(){var e=this;this.$store.dispatch(N.user.login,{username:this.username,password:this.password}).then((function(){e.$router.replace({name:C.project.manage})})).catch((function(t){e.$message({type:"error",message:"用户名或密码错误"}),console.error("登录失败",t)}))},toReg:function(){this.$router.push({name:C.register})}}},ae=re,oe=(n("e080"),Object(u["a"])(ae,te,ne,!1,null,null,null)),ie=oe.exports,se=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"console-index"},[n("console-top"),n("div",{staticClass:"console-center"},[n("router-view")],1)],1)},ce=[],le=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"console-top"},[n("span",{staticClass:"logo",on:{click:e.toIndex}},[e._v("CleverMock")]),n("span",{staticClass:"project-name"},[e._v(e._s(e.project.name))]),e._m(0),n("div",{staticClass:"tab-bar"},[n("span",{class:{"btn-tab":!0,active:"dev"===e.mode},on:{click:function(t){return e.redirect("dev")}}},[n("i",{staticClass:"mock-tiaoshi"}),e._v("开发模式")]),n("span",{class:{"btn-tab":!0,active:"doc"===e.mode},on:{click:function(t){return e.redirect("doc")}}},[n("i",{staticClass:"mock-wendang"}),e._v("文档模式")]),n("span",{class:{"btn-tab":!0,active:"setting"===e.mode},on:{click:function(t){return e.redirect("setting")}}},[n("i",{staticClass:"mock-setting"}),e._v("设置\n    ")])]),n("span",{staticClass:"logout",on:{click:e.onLogout}},[e._v("\n    "+e._s(e.user.name||e.user.email)),n("i",{staticClass:"mock-logout"})])])},ue=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("a",{staticClass:"doc-link",attrs:{href:"https://clevertools.gitbook.io/mock/",target:"_blank"}},[n("i",{staticClass:"mock-info"})])}];function de(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function pe(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?de(Object(n),!0).forEach((function(t){Object(W["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):de(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var me={name:"consoleTop",data:function(){var e=this.$route.name.split("-");return{mode:e[e.length-1]}},computed:pe({},Object(H["b"])({user:function(e){return e.user.user||{}},project:function(e){return e.project.currentProject||{}}})),watch:{$route:function(e){var t=e.name.split("-");this.mode=t[t.length-1]}},methods:{redirect:function(e){e!==this.mode&&this.$router.push({name:C.console[e],params:{id:this.$route.params.id}})},onLogout:function(){var e=this;this.$store.dispatch(N.user.logout).then((function(){e.$router.push({name:C.login})})).catch((function(t){e.$message({type:"error",message:"退出账号失败"}),console.error("退出账号失败",t)}))},toIndex:function(){this.$router.push({name:C.project.manage})}}},fe=me,he=(n("692a"),Object(u["a"])(fe,le,ue,!1,null,null,null)),ve=he.exports,be={name:"consoleIndex",components:{ConsoleTop:ve},data:function(){return{msg:"index"}},beforeCreate:function(){this.$store.dispatch(N.project.getById,this.$route.params.id)}},ye=be,ge=(n("d9fce"),Object(u["a"])(ye,se,ce,!1,null,null,null)),je=ge.exports,Oe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"dev-view"},[n("div",{staticClass:"api-list-panel"},[n("c-input",{staticClass:"api-search",attrs:{width:310,clearAble:"",placeholder:"搜索",icon:"mock-search"},model:{value:e.filter,callback:function(t){e.filter=t},expression:"filter"}}),n("div",{staticClass:"ctl-panel"},[n("i",{staticClass:"btn-add mock-wenjianjia",on:{click:e.onAddGroup}})]),n("div",{staticClass:"api-list"},[n("tree-menu",{attrs:{store:e.groupList,onChoose:e.toEditApi,filter:e.filter,width:"300","key-field":"id","children-field":"apiList",label:"name","alias-label":"path"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.node;return n("div",{staticClass:"api-group"},[n("i",{staticClass:"mock-folder"}),n("i",{staticClass:"btn-add mock-add",on:{click:function(t){return t.stopPropagation(),e.addApi(r)}}}),n("span",{staticClass:"desc",on:{click:function(t){return t.stopPropagation(),e.onEditGroup(r)}}},[e._v(e._s(r.name))])])}}])})],1)],1),n("div",{staticClass:"api-detail-panel"},[e.currentApi||e.addApiMode?n("api-detail",{attrs:{addMode:e.addApiMode,"api-id":e.currentApi?e.currentApi.id:null},on:{del:e.onDelApi,afterAdd:e.afterAdd}}):n("div",{staticClass:"empty-tip"},[n("span",{staticClass:"title"},[e._v("接入方式")]),n("div",{staticClass:"section"},[n("span",{staticClass:"desc"},[e._v("请求头信息中，增加：")]),n("pre",{staticClass:"language-javascript"},[e._v("          clever-mock: '"+e._s(e.project.secretKey)+"'\n        ")])])])],1),e.showCreateGroup?n("group-dialog",{attrs:{group:e.currentGroup},on:{del:function(t){e.showCreateGroup=!1},submit:function(t){e.showCreateGroup=!1},cancel:function(t){e.showCreateGroup=!1}}}):e._e()],1)},we=[],_e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"api-detail"},[e.loading?n("c-loading"):e._e(),e.reload?n("c-reload",{on:{reload:e.getById}}):e._e(),e.loading||e.reload?e._e():[n("div",{staticClass:"api-base"},[n("form-item",{attrs:{label:"API名称"}},[n("c-input",{attrs:{clearAble:"",width:300},model:{value:e.api.name,callback:function(t){e.$set(e.api,"name",t)},expression:"api.name"}}),e.api.id?n("c-button",{staticClass:"btn-del",attrs:{type:"danger",size:"normal"},on:{click:e.onDel}},[e._v("删除")]):e._e()],1),n("form-item",{attrs:{label:"自动更新"}},[n("c-checkbox",{model:{value:e.api.autoUpdate,callback:function(t){e.$set(e.api,"autoUpdate",t)},expression:"api.autoUpdate"}})],1),n("form-item",{attrs:{label:"调用延时"}},[n("c-input",{model:{value:e.api.delay,callback:function(t){e.$set(e.api,"delay",t)},expression:"api.delay"}}),n("span",{staticClass:"unit"},[e._v("s")])],1),n("form-item",{attrs:{label:"代理地址"}},[n("c-selector",{attrs:{theme:"tag",store:e.proxyList,max:1,width:300,splitStrFormat:{maxLength:42},"key-field":"url",labelField:"url"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.data;return[n("span",{attrs:{title:r.url}},[e._v(e._s(r.name||r.url))])]}}],null,!1,3713966703),model:{value:e.proxyUrl,callback:function(t){e.proxyUrl=t},expression:"proxyUrl"}})],1),n("div",{staticClass:"url-line"},[n("c-selector",{staticClass:"method-select",attrs:{size:"big",width:80,store:e.methodList,"label-field":"name",keyField:"name"},model:{value:e.methodName,callback:function(t){e.methodName=t},expression:"methodName"}}),n("c-input",{staticClass:"url-input",attrs:{width:400,clearAble:"",autoFocus:"",size:"big",placeholder:"URL"},model:{value:e.api.path,callback:function(t){e.$set(e.api,"path",t)},expression:"api.path"}}),n("c-selector",{staticClass:"run-type-select",attrs:{store:e.runTypeList,width:120,size:"big",keyField:"name",labelField:"name"},model:{value:e.runType,callback:function(t){e.runType=t},expression:"runType"}}),"test"===e.runType.name?n("c-button",{attrs:{size:"large",type:"primary",theme:"border"}},[e._v("发送")]):e._e(),n("c-button",{directives:[{name:"show",rawName:"v-show",value:e.saveAble,expression:"saveAble"}],attrs:{size:"large",type:"primary"},on:{click:e.onSave}},[e._v("保存")])],1)],1),n("div",{key:"api-config-"+e.apiId,staticClass:"api-config"},[n("c-tabs",[n("c-tab-panel",{attrs:{title:"参数结构"}},[n("param-view",{attrs:{store:e.api.params},on:{change:e.onChangeParams}})],1)],1),n("c-tabs",[n("c-tab-panel",{attrs:{title:"返回结构"}},[n("res-view",{attrs:{structure:e.api.resStructure},on:{change:e.onChangeRes}})],1)],1),n("c-tabs",[n("c-tab-panel",{attrs:{title:"接口描述"}},[n("api-desc",{model:{value:e.api.description,callback:function(t){e.$set(e.api,"description",t)},expression:"api.description"}})],1)],1),n("c-tabs",[n("c-tab-panel",{attrs:{title:"mock数据"}},[n("mock-data",{attrs:{text:e.api.mockData},on:{change:e.onChangeMockData}})],1)],1)],1)]],2)},Ce=[],ke=(n("c5f6"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"param-view"},[n("json-view",{attrs:{store:e.store_,"edit-mode":""},on:{change:e.onChange}})],1)}),xe=[],Pe=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.jsonClass},[e.json?[n("json-line",{attrs:{"line-style":e.lineStyle}},[null!==e.json.name?n("span",{staticClass:"json-key"},[e.editMode?n("c-input",{ref:"name"+e.json.id,attrs:{autoFocus:"",width:"auto","min-width":0,size:"small"},on:{key:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.onDelName(t)}},model:{value:e.json.name,callback:function(t){e.$set(e.json,"name",t)},expression:"json.name"}}):[e._v(e._s(e.json.name))],e._v(":\n    ")],2):e._e(),["Object","Array"].includes(e.type)?[n("span",{staticClass:"json-kh"},[e._v(e._s("Object"===e.type?"{":"["))]),n("span",{staticClass:"json-collapse",on:{click:function(t){e.collapse=!e.collapse}}},[e._v(e._s(e.collapse?"+":"-"))])]:[n("span",{staticClass:"json-val"},[e.editMode?n("c-input",{attrs:{width:"auto",minWidth:0,size:"small"},on:{key:[function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onAdd()},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"])?null:e.onDelVal(t)}]},model:{value:e.json.value,callback:function(t){e.$set(e.json,"value",t)},expression:"json.value"}}):[e._v("\n          "+e._s(JSON.stringify(e.json.value))),e.isLast?e._e():[e._v(",")]]],2)],e.showRequired||e.editMode||e.json.desc||!["Object","Array"].includes(e.type)?n("span",{staticClass:"json-annotate"},[n("span",{staticClass:"json-xg"},[e._v("//")]),e.showRequired?n("span",{staticClass:"json-annotation"},[n("span",{staticClass:"json-annotation_"},[e._v("@required")]),e.editMode?n("select",{directives:[{name:"model",rawName:"v-model",value:e.json.required,expression:"json.required"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.json,"required",t.target.multiple?n:n[0])}}},[n("option",{attrs:{value:"true"}},[e._v("true")]),n("option",{attrs:{value:"false"}},[e._v("false")])]):[e._v("\n          "+e._s(e.json.required)+"\n        ")]],2):e._e(),e.editMode||!["Object","Array"].includes(e.type)?n("span",{staticClass:"json-annotation"},[n("span",{staticClass:"json-annotation_"},[e._v("@type")]),e.editMode?n("select",{directives:[{name:"model",rawName:"v-model",value:e.json.type,expression:"json.type"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.json,"type",t.target.multiple?n:n[0])},e.onChangeType]}},[n("option",{attrs:{value:"String"}},[e._v("字符串")]),n("option",{attrs:{value:"Number"}},[e._v("数字")]),n("option",{attrs:{value:"Boolean"}},[e._v("布尔值")]),n("option",{attrs:{value:"Object"}},[e._v("对象")]),n("option",{attrs:{value:"Array"}},[e._v("数组")]),n("option",{attrs:{value:"Null"}},[e._v("Null")])]):[e._v("\n          "+e._s(e.json.type)+"\n        ")]],2):e._e(),e.json.desc||e.editMode?n("span",{staticClass:"json-annotation"},[n("span",{staticClass:"json-annotation_"},[e._v("@desc")]),e.editMode?n("c-input",{ref:"desc"+e.json.id,attrs:{width:"auto","min-width":0,size:"small"},on:{key:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.onAdd()}},model:{value:e.json.desc,callback:function(t){e.$set(e.json,"desc",t)},expression:"json.desc"}}):[e._v(e._s(e.json.desc))]],2):e._e()]):e._e(),e.editMode?[["Object","Array"].includes(e.type)&&e.level>0?[n("c-button",{staticClass:"json-btn-add_",attrs:{icon:"mock-add",type:"primary"},on:{click:function(t){return e.onAdd(!0)}}},[e._v("Inside")]),n("c-button",{staticClass:"json-btn-add_",attrs:{icon:"mock-add",type:"primary"},on:{click:e.onAdd}},[e._v("Outside")])]:n("i",{staticClass:"mock-add json-btn-add",on:{click:e.onAdd}}),n("i",{staticClass:"mock-delete-little1 json-btn-del",on:{click:e.onDel}})]:e._e()],2),e.json.children&&e.json.children.length&&!e.collapse?n("div",{staticClass:"json-children"},e._l(e.json.children,(function(t,r){return n("json-view",{key:t.id,attrs:{parent:e.json,level:e.level+1,"edit-mode":e.editMode,"show-required":e.showRequired,"is-last":r===e.json.children.length-1,store:t},on:{delProp:e.onDelProp,addProp:e.onAddProp}})})),1):e._e(),n("json-line",{directives:[{name:"show",rawName:"v-show",value:e.collapse,expression:"collapse"}],attrs:{"line-style":e.lineStyle}},[e._v("...")]),["Object","Array"].includes(e.type)?n("json-line",{attrs:{"line-style":e.lineStyle}},[n("span",{staticClass:"json-kh"},[e._v(e._s("Object"===e.type?"}":"]"))]),e.isLast?e._e():[e._v(",")]],2):e._e()]:e.editMode?[n("c-button",{staticClass:"json-btn-add_",attrs:{icon:"mock-add",type:"primary"},on:{click:e.onAdd}},[e._v("添加")])]:[n("div",{staticClass:"json-no-data"},[e._v("暂无数据")])]],2)},Se=[],$e=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"json-line",style:e.lineStyle},[e._t("default")],2)},Le=[],De={name:"jsonLine",props:{lineStyle:null,rowNumber:{type:Number,default:1}}},Ee=De,Ae=Object(u["a"])(Ee,$e,Le,!1,null,null,null),Ne=Ae.exports,Ie={name:"jsonView",components:{JsonLine:Ne},props:{store:null,editMode:{type:Boolean,default:!1},showRequired:{type:Boolean,default:!1},level:{type:Number,default:0},isLast:{type:Boolean,default:!0},parent:null},data:function(){var e=null;return this.store&&(e=h.isString(this.store)?JSON.parse(this.store):this.store,h.treeLoop(e,{childrenField:"children",callback:function(e){e.id||(e.id=h.guid())}})),{id:h.guid(),collapse:!1,json:e}},computed:{lineStyle:function(){return{paddingLeft:10*this.level+20+"px"}},type:function(){return this.json.type},jsonClass:function(){return{"json-view":!0,"json-edit-mode":this.editMode}}},watch:{store:function(e){var t=null;e&&(t=h.isString(e)?JSON.parse(e):e,h.treeLoop(t,{childrenField:"children",callback:function(e){e.id||(e.id=h.guid())}})),this.json=t},json:{handler:function(e){this.$emit("change",e)},deep:!0}},methods:{onChangeType:function(){switch(this.json.type){case"Array":case"Object":this.parent&&"Array"===this.parent.type&&(this.json.name=null),this.json.children=[],this.value=null;break;default:this.parent&&"Object"===this.parent.type&&null===this.json.name&&(this.json.name=""),this.json.children=[];break}},onDel:function(){0===this.level?this.json=null:this.$emit("delProp",this.json)},onAdd:function(e){if(0===this.level||e){var t=h.guid(),n={id:t,name:"",type:"String",value:"",required:!1,desc:"",children:[]};this.json?("Array"===this.json.type&&(n.name=null),this.json.children.push(n)):(n.name=null,n.type="Object",this.json=n)}else this.$emit("addProp",this.json)},onAddProp:function(e){var t=this;this.json.children.forEach((function(n,r){if(n.id===e.id){var a,o=h.guid(),i={id:o,name:"",type:"String",value:"",required:!1,desc:"",children:[]};"Array"===t.json.type&&(i.name=null),(a=t.json.children).splice.apply(a,[r,1].concat([n,i]))}}))},onDelVal:function(){if(!this.json.value){var e=this.$refs["name"+this.json.id];e&&e.focus()}},onDelName:function(){this.json.name||this.$emit("delProp",this.json)},onDelProp:function(e){for(var t=0;t<this.json.children.length;t++){var n=this.json.children[t];if(n===e){this.json.children.splice(t,1);break}}}}},Me=Ie,Ue=(n("179b"),Object(u["a"])(Me,Pe,Se,!1,null,null,null)),Fe=Ue.exports,Ge={name:"paramView",components:{JsonView:Fe},props:{store:null},data:function(){return{store_:this.store}},methods:{onChange:function(e){this.$emit("change",e?h.clone(e):null)}}},qe=Ge,Te=(n("ef9e"),Object(u["a"])(qe,ke,xe,!1,null,null,null)),Re=Te.exports,ze=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"res-view"},[n("json-view",{attrs:{store:e.store,"edit-mode":""},on:{change:e.onChange}})],1)},Be=[],Je={name:"resView",components:{JsonView:Fe},props:{structure:null},data:function(){return{store:this.structure}},methods:{onChange:function(e){this.$emit("change",e?h.clone(e):null)}}},Ve=Je,We=(n("5bd4"),Object(u["a"])(Ve,ze,Be,!1,null,null,null)),He=We.exports,Ke=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"api-desc"},[n("textarea",{ref:"dom"})])},Ye=[],Qe=n("ebfb"),Xe=n.n(Qe),Ze={name:"apiDesc",props:{value:null},data:function(){return{editor:null}},mounted:function(){var e=this;this.editor=new Xe.a({element:this.$refs.dom}),this.editor.value(this.value||""),this.editor.codemirror.on("change",(function(){e.$emit("input",e.editor.value())}))},methods:{}},et=Ze,tt=Object(u["a"])(et,Ke,Ye,!1,null,null,null),nt=tt.exports,rt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"main",staticClass:"mock-data"})},at=[],ot=n("56b3"),it=n.n(ot),st={name:"mockData",props:{text:null},data:function(){return{editor:null}},mounted:function(){var e=this;this.editor=it()(this.$refs.main,{mode:"javascript",theme:"darcula",lineNumbers:!0,line:!0,value:this.text}),this.editor.on("change",(function(t){e.$emit("change",t.getValue())}))}},ct=st,lt=(n("ede9"),Object(u["a"])(ct,rt,at,!1,null,null,null)),ut=lt.exports,dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"form-item"},[n("label",{staticClass:"form-label",style:e.style},[e._v("\n    "+e._s(e.label)+"：\n  ")]),e._t("default")],2)},pt=[],mt={name:"formItem",props:{label:{type:String},labelWidth:{type:[String,Number],default:70},labelAlign:{type:String,default:"right"}},computed:{style:function(){return{width:this.labelWidth+"px",textAlign:this.labelAlign}}}},ft=mt,ht=(n("1fe8"),Object(u["a"])(ft,dt,pt,!1,null,null,null)),vt=ht.exports;function bt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function yt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bt(Object(n),!0).forEach((function(t){Object(W["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var gt={name:"apiDetail",components:{FormItem:vt,MockData:ut,ApiDesc:nt,ResView:He,ParamView:Re},props:{apiId:null,addMode:{type:Boolean,default:!1}},data:function(){return this.getData()},computed:yt({saveParam:function(){var e=yt(yt({},this.api),{},{delay:Number(this.api.delay),method:this.methodName.name,runStyle:this.runType.name,proxyUrl:this.proxyUrl?this.proxyUrl.url:""});return e.resStructure&&!h.isString(e.resStructure)&&(e.resStructure=JSON.stringify(e.resStructure)),e.params&&!h.isString(e.params)&&(e.params=JSON.stringify(e.params)),e},saveAble:function(){return!h.equal(this.saveParam,this.preApi)}},Object(H["b"])({runTypeList:function(e){return e.common.runTypeList},methodList:function(e){return e.common.methodList},proxyList:function(e){return e.project.proxyServerList}})),mounted:function(){this.addMode||this.getById()},watch:{apiId:function(e){if(e)this.getById();else{var t=this.getData();for(var n in t)this[n]=t[n]}}},methods:{getData:function(){return{methodName:{name:"GET"},runType:{name:"proxy"},proxyUrl:null,api:{autoUpdate:!1,description:"",groupId:"",method:"POST",mockData:"",mockScript:"",name:"",params:null,path:"",projectId:"",proxyUrl:"",resFormatScript:null,resStructure:null,runStyle:"proxy",delay:0},preApi:null,loading:!this.addMode,reload:!1}},getById:function(){var e=this;this.loading=!0,this.reload=!1,this.$store.dispatch(N.api.getById,this.apiId).then((function(t){t.resStructure&&(t.resStructure=JSON.parse(t.resStructure)),e.api=t,e.preApi=h.clone(t),e.methodName={name:t.method},e.runType={name:t.runStyle},e.proxyUrl={url:t.proxyUrl},e.loading=!1})).catch((function(t){e.loading=!1,e.reload=!0,e.$message({type:"error",message:"获取接口信息失败"}),console.error("获取接口信息失败",t)}))},onSave:function(){this.addMode?this.add():this.update()},add:function(){var e=this;this.$store.dispatch(N.api.add,{api:this.saveParam,projectId:this.$route.params.id}).then((function(t){e.$store.dispatch(N.api.queryGroup,e.$route.params.id),e.$store.dispatch(N.project.queryProxyServer,e.$route.params.id),e.$emit("afterAdd",t)})).catch((function(t){e.$message({type:"error",message:"添加接口失败"}),console.error("添加接口失败",t)}))},update:function(){var e=this;this.$store.dispatch(N.api.update,this.saveParam).then((function(){e.preApi=h.clone(e.saveParam),e.$store.dispatch(N.api.queryGroup,e.$route.params.id),e.$store.dispatch(N.project.queryProxyServer,e.$route.params.id)})).catch((function(t){e.$message({type:"error",message:"更新接口失败"}),console.error("更新接口失败",t)}))},onDel:function(){var e=this;this.$store.dispatch(N.api.del,this.api.id).then((function(){e.$emit("del")})).catch((function(t){e.$message({type:"error",message:"删除API失败"}),console.error("删除API失败",t)}))},onChangeParams:function(e){e&&h.treeLoop(e,{childrenField:"children",callback:function(e){delete e.id}}),this.api.params=e?JSON.stringify(e):null},onChangeRes:function(e){e&&h.treeLoop(e,{childrenField:"children",callback:function(e){delete e.id}}),this.api.resStructure=e?JSON.stringify(e):null},onChangeMockData:function(e){this.api.mockData=e}}},jt=gt,Ot=(n("887e"),Object(u["a"])(jt,_e,Ce,!1,null,null,null)),wt=Ot.exports,_t=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"group-dialog"},[n("c-dialog",{attrs:{title:e.group?"编辑分组":"创建分组",showFoot:!1}},[n("form-item",{attrs:{label:"名称"}},[n("c-input",{attrs:{width:300},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),n("form-item",{attrs:{label:"匹配规则"}},[n("c-input",{attrs:{width:300},model:{value:e.reg,callback:function(t){e.reg=t},expression:"reg"}})],1),n("form-item",{attrs:{label:"描述"}},[n("div",{staticClass:"group-desc"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],ref:"desc",domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}})])]),n("div",{staticClass:"btns"},[e.group?n("c-button",{attrs:{type:"danger"},on:{click:e.onDel}},[e._v("删除")]):e._e(),n("c-button",{on:{click:e.onCancel}},[e._v("取消")]),n("c-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确定")])],1)],1)],1)},Ct=[];function kt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function xt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?kt(Object(n),!0).forEach((function(t){Object(W["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):kt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Pt={name:"groupDialog",components:{FormItem:vt},props:{group:null},data:function(){var e={editor:null,name:"",reg:"",description:""};return this.group&&(e.name=this.group.name,e.reg=this.group.reg,e.description=this.group.description),e},computed:xt(xt({},Object(H["b"])({project:function(e){return e.project.currentProject}})),{},{form:function(){var e={name:this.name,reg:this.reg,projectId:this.project.id};return this.group&&(e.id=this.group.id),e}}),mounted:function(){this.editor=new Xe.a({element:this.$refs.desc,autofocus:!0})},methods:{onSubmit:function(){var e=this;this.$store.dispatch(this.group?N.api.updateGroup:N.api.addGroup,xt(xt({},this.form),{},{description:this.editor.value()})).then((function(){e.$store.dispatch(N.api.queryGroup,e.$route.params.id),e.$emit("submit")})).catch((function(t){e.$message({type:"error",message:"提交失败，请重试"}),console.error("添加分组失败",t)}))},onCancel:function(){this.$emit("cancel")},onDel:function(){var e=this;this.$store.dispatch(N.api.delGroup,{id:this.group.id,projectId:this.group.projectId}).then((function(){e.$store.dispatch(N.api.queryGroup,e.$route.params.id),e.$emit("del")})).catch((function(t){e.$message({type:"error",message:"删除分组失败"}),console.error("删除分组失败",t)}))}}},St=Pt,$t=(n("9646"),Object(u["a"])(St,_t,Ct,!1,null,null,null)),Lt=$t.exports,Dt=n("e57e");function Et(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function At(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Et(Object(n),!0).forEach((function(t){Object(W["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Et(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Nt={name:"devView",components:{TreeMenu:Dt["default"],GroupDialog:Lt,ApiDetail:wt},data:function(){return{filter:"",currentApi:null,showCreateGroup:!1,currentGroup:null,addApiMode:!1}},computed:At({},Object(H["b"])({groupList:function(e){return e.api.groupList},project:function(e){return e.project.currentProject||{}}})),beforeCreate:function(){this.$store.dispatch(N.api.queryGroup,this.$route.params.id),this.$store.dispatch(N.project.queryProxyServer,this.$route.params.id)},methods:{afterAdd:function(e){this.addApiMode=!1,this.currentApi=e},pathFormat:function(e){return h.strMiddleSplit(e,{maxLength:30,beginLength:12,endLength:15,replaceStr:"..."})},apiVisible:function(e){var t=this.filter.trim().toLowerCase();return!t||new RegExp(t).test(e.path.toLowerCase())},addApi:function(){this.currentApi=null,this.addApiMode=!0},onAddGroup:function(){this.showCreateGroup=!0},onEditGroup:function(e){this.currentGroup=e,this.showCreateGroup=!0},onDelApi:function(){this.currentApi=null},toEditApi:function(e){this.currentApi=e}}},It=Nt,Mt=(n("2b7e"),Object(u["a"])(It,Oe,we,!1,null,null,null)),Ut=Mt.exports,Ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"doc-view"},[e.loading?n("c-loading",{attrs:{tip:"文档加载中"}}):e._e(),n("div",{staticClass:"doc-guide"},[n("tree-menu",{attrs:{store:e.groupList,onChoose:e.onClickApi,width:"300","key-field":"id","children-field":"apiList",label:"name","alias-label":"path"}})],1),n("div",{ref:"docList",staticClass:"doc-main"},[e._l(e.groupList,(function(t){return e._l(t.apiList,(function(t){return n("div",{key:t.id,class:{"api-doc":!0,active:e.currentApi&&e.currentApi.id===t.id}},[n("h3",{ref:t.id,refInFor:!0},[e._v("# "+e._s(t.name||t.path))]),n("div",{staticClass:"api-url"},[n("span",{staticClass:"api-method",class:t.method.toLowerCase()},[e._v(e._s(t.method))]),e._v(e._s(t.path)+"\n        ")]),n("c-tabs",[n("c-tab-panel",{attrs:{title:"参数"}},[n("json-view",{attrs:{store:t.params}})],1)],1),n("c-tabs",[n("c-tab-panel",{attrs:{title:"返回结构"}},[n("json-view",{attrs:{store:t.resStructure}})],1)],1),t.description?n("c-tabs",[n("c-tab-panel",{attrs:{title:"描述"}},[n("div",{staticClass:"doc-md",domProps:{innerHTML:e._s(e.getDesc(t))}})])],1):e._e()],1)}))}))],2)],1)},Gt=[],qt=n("339e"),Tt=n.n(qt);function Rt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function zt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Rt(Object(n),!0).forEach((function(t){Object(W["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Rt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Bt={name:"docView",components:{TreeMenu:Dt["default"],JsonView:Fe},data:function(){return{currentApi:null,loading:!0}},computed:zt({},Object(H["b"])({groupList:function(e){return e.api.groupList}})),beforeMount:function(){var e=this;this.$store.dispatch(N.api.queryGroup,this.$route.params.id).finally((function(){e.loading=!1}))},mounted:function(){var e=this;setTimeout((function(){e.$refs.docList.scrollTop=0}))},methods:{onClickApi:function(e){this.currentApi=e;var t=this.$refs[e.id][0],n=this.$refs.docList;n.scrollTop=t.offsetTop-130},getDesc:function(e){var t=new Tt.a.Converter({openLinksInNewWindow:!0,emoji:!0});t.setFlavor("github");var n=t.makeHtml(e.description);return n}}},Jt=Bt,Vt=(n("5ee7"),Object(u["a"])(Jt,Ft,Gt,!1,null,null,null)),Wt=Vt.exports,Ht=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"register"},[n("div",{staticClass:"reg_"},[n("form-item",{attrs:{label:"用户名"}},[n("c-input",{attrs:{width:260,clearAble:"",autoFocus:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),n("form-item",{attrs:{label:"密码"}},[n("c-input",{attrs:{type:"password",width:260},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}})],1),n("form-item",{attrs:{label:"邮箱"}},[n("c-input",{attrs:{width:260},model:{value:e.form.email,callback:function(t){e.$set(e.form,"email",t)},expression:"form.email"}})],1),n("c-button",{staticClass:"btn-reg",attrs:{type:"primary",size:"normal"},on:{click:e.onReg}},[e._v("注册")])],1)])},Kt=[],Yt={name:"index",components:{FormItem:vt},data:function(){return{form:{name:"",password:"",email:""}}},methods:{onReg:function(){var e=this;this.$store.dispatch(N.user.addUser,this.form).then((function(){e.$router.replace({name:C.login})})).catch((function(t){e.$message({type:"error",message:"注册失败"}),console.error("注册失败",t)}))}}},Qt=Yt,Xt=(n("5cb6"),Object(u["a"])(Qt,Ht,Kt,!1,null,null,null)),Zt=Xt.exports,en=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"setting"},[e.ready?[n("c-tabs",{attrs:{"clean-mode":""}},[n("c-tab-panel",{attrs:{title:"项目设置"}},[n("div",{staticClass:"setting-form"},[n("form-item",{attrs:{label:"项目名称"}},[n("c-input",{attrs:{width:400,autoFocus:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),n("form-item",{attrs:{label:"代理地址"}},[n("c-selector",{attrs:{theme:"tag",store:e.proxyList,max:1,width:325,splitStrFormat:{maxLength:42},"key-field":"url",labelField:"url"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.data;return[n("span",{attrs:{title:r.url}},[e._v(e._s(r.name||r.url))])]}}]),model:{value:e.proxyUrl,callback:function(t){e.proxyUrl=t},expression:"proxyUrl"}}),n("c-checkbox",{staticClass:"setting-global-proxy",model:{value:e.proxyGlobal,callback:function(t){e.proxyGlobal=t},expression:"proxyGlobal"}},[e._v("全局")])],1),n("form-item",{attrs:{label:"描述"}},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:e.description,expression:"description"}],domProps:{value:e.description},on:{input:function(t){t.target.composing||(e.description=t.target.value)}}})]),n("div",{staticClass:"setting-handle"},[n("c-button",{attrs:{type:"primary",size:"normal"},on:{click:e.onSaveProject}},[e._v("保存")])],1)],1)]),n("c-tab-panel",{attrs:{title:"API批量操作"}},[n("div",{staticClass:"setting-form"},[n("form-item",{attrs:{label:"自动更新"}},[n("c-checkbox",{model:{value:e.autoUpdate,callback:function(t){e.autoUpdate=t},expression:"autoUpdate"}})],1),n("form-item",{attrs:{label:"调用延时"}},[n("c-input",{model:{value:e.delay,callback:function(t){e.delay=t},expression:"delay"}})],1),n("form-item",{attrs:{label:"运行方式"}},[n("c-selector",{attrs:{store:e.runTypeList,labelField:"name",keyField:"name"},model:{value:e.runType,callback:function(t){e.runType=t},expression:"runType"}})],1),n("div",{staticClass:"setting-handle"},[n("c-button",{attrs:{type:"primary",size:"normal"},on:{click:e.onUpdateApiList}},[e._v("保存")])],1)],1)]),0===e.currentProject.role?n("c-tab-panel",{attrs:{title:"成员管理"}},[n("member-manage")],1):e._e(),n("c-tab-panel",{attrs:{title:"个人设置"}},[n("personal-setting")],1)],1)]:n("c-loading")],2)},tn=[],nn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"personal-setting"},[n("form-item",{attrs:{label:"姓名"}},[n("c-input",{attrs:{autoFocus:"",width:230,clearAble:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),n("form-item",{attrs:{label:"邮箱"}},[n("c-input",{attrs:{width:230,clearAble:""},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}})],1),n("form-item",{attrs:{label:"微信"}},[n("c-input",{attrs:{width:230,clearAble:""},model:{value:e.wechat,callback:function(t){e.wechat=t},expression:"wechat"}})],1),n("form-item",{attrs:{label:"密码"}},[n("c-input",{attrs:{width:230,clearAble:"",type:"password"},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}})],1),e.password?n("form-item",{attrs:{label:"确认密码"}},[n("c-input",{attrs:{width:230,clearAble:"",type:"password"},model:{value:e.repassword,callback:function(t){e.repassword=t},expression:"repassword"}})],1):e._e(),n("c-button",{staticClass:"btn-save",attrs:{size:"normal",type:"primary"},on:{click:e.onSave}},[e._v("保存")])],1)},rn=[];function an(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function on(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?an(Object(n),!0).forEach((function(t){Object(W["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):an(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var sn={name:"personal-setting",components:{FormItem:vt},data:function(){return{name:"",password:"",repassword:"",email:"",wechat:""}},computed:on(on({},Object(H["b"])({currentUser:function(e){var t=e.user.user||{};return this.name=t.name,this.email=t.email,this.wechat=t.wechat,t}})),{},{form:function(){var e={id:this.currentUser.id,name:this.name,email:this.email,wechat:this.wechat};return this.password&&this.password===this.repassword&&(e.password=this.password),e}}),watch:{currentUser:function(){}},methods:{onSave:function(){var e=this;this.password&&this.password!==this.repassword?this.$message({type:"error",message:"两次密码输入不一致"}):this.$store.dispatch(N.user.update,this.form).then((function(){e.$message({message:"保存成功"})})).catch((function(t){e.$message({message:"保存失败",type:"error"}),console.error("保存用户信息失败",t)}))}}},cn=sn,ln=(n("4af8"),Object(u["a"])(cn,nn,rn,!1,null,null,null)),un=ln.exports,dn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"member-manage"},[n("div",{staticClass:"member-add-form"},[n("h4",[e._v("添加成员")]),n("c-input",{attrs:{autoFocus:"",clearAble:"",width:230,placeholder:"邮箱地址"},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),n("c-button",{attrs:{size:"normal",type:"primary"},on:{click:e.onAdd}},[e._v("添加")])],1),n("c-data-grid",{attrs:{store:e.userList,"show-index":"",indexTitle:"序列"}},[n("c-grid-column",{attrs:{field:"name",title:"用户名","sort-able":""}}),n("c-grid-column",{attrs:{field:"email",title:"邮箱","sort-able":""}}),n("c-grid-column",{attrs:{field:"roleName",title:"角色","sort-able":""}}),n("c-grid-column",{attrs:{field:"_",title:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.data;t.field;return[n("c-button",{attrs:{type:"danger",disable:0===r.roleId},on:{click:function(t){return e.onDel(r.id)}}},[e._v("删除")])]}}])})],1)],1)},pn=[];function mn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function fn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?mn(Object(n),!0).forEach((function(t){Object(W["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var hn={name:"memberManage",components:{FormItem:vt},data:function(){return{email:""}},computed:fn({},Object(H["b"])({currentProject:function(e){return e.project.currentProject},userList:function(e){return e.user.memberList}})),created:function(){this.$store.dispatch(N.user.query,this.currentProject.id)},methods:{onDel:function(e){var t=this;this.$store.dispatch(N.user.removeMember,{projectId:this.currentProject.id,userId:e}).then((function(){t.$message({message:"删除成功"})})).catch((function(e){t.$message({message:"删除成员失败",type:"error"}),console.error("删除成员失败",e)}))},onAdd:function(){var e=this;this.email?this.$store.dispatch(N.user.invite,{email:this.email,projectId:this.currentProject.id}).then((function(){e.$message({message:"邀请成功"})})).catch((function(t){e.$message({message:"邀请失败",type:"error"}),console.error("邀请失败",t)})):this.$message({message:"请填写被邀请人的邮箱地址",type:"error"})}}},vn=hn,bn=(n("8b5b"),Object(u["a"])(vn,dn,pn,!1,null,null,null)),yn=bn.exports;function gn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function jn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach((function(t){Object(W["a"])(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var On={name:"setting",components:{MemberManage:yn,PersonalSetting:un,FormItem:vt},data:function(){return{proxyUrl:null,name:"",description:"",autoUpdate:!1,delay:0,runType:null,proxyGlobal:!1}},computed:jn(jn({},Object(H["b"])({proxyList:function(e){return e.project.proxyServerList},currentProject:function(e){var t=e.project.currentProject;return t&&(this.name=t.name,this.description=t.description,this.proxyUrl={url:t.proxyUrl}),t},runTypeList:function(e){return e.common.runTypeList},ready:function(e){return this.currentProject&&e.project.ready.proxyServerList},currentUser:function(e){return e.user.user}})),{},{project:function(){return{id:this.currentProject?this.currentProject.id:null,name:this.name,description:this.description,proxyUrl:this.proxyUrl?this.proxyUrl.url:null,global:this.proxyGlobal}},api:function(){return{autoUpdate:this.autoUpdate,delay:this.delay,runStyle:this.runType?this.runType.name:null,projectId:this.currentProject?this.currentProject.id:null}}}),watch:{currentProject:{handler:function(e){e&&(this.name=e.name,this.description=e.description,this.proxyUrl={url:e.proxyUrl})},deep:!0}},beforeCreate:function(){this.$store.dispatch(N.project.queryProxyServer,this.$route.params.id)},methods:{onSaveProject:function(){var e=this;this.$store.dispatch(N.project.update,this.project).then((function(){e.$message({message:"更新成功"})})).catch((function(t){e.$message({type:"error",message:"更新项目失败"}),console.error("更新项目失败",t)}))},onUpdateApiList:function(){var e=this;this.$store.dispatch(N.api.updateList,this.api).then((function(){e.$message({message:"更新成功"})})).catch((function(t){e.$message({type:"error",message:"批量更新API失败"}),console.error("批量更新API失败",t)}))}}},wn=On,_n=(n("28d7"),Object(u["a"])(wn,en,tn,!1,null,null,null)),Cn=_n.exports,kn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"visit-view"},[n("h1",[e._v("接口文档")]),n("doc-view")],1)},xn=[],Pn={name:"index",components:{DocView:Wt},data:function(){return{msg:"index"}}},Sn=Pn,$n=(n("687d"),Object(u["a"])(Sn,kn,xn,!1,null,null,null)),Ln=$n.exports;o["default"].use(m["a"]);var Dn=new m["a"]({mode:"history",routes:[{path:"/",name:C.index,component:F,redirect:{name:C.project.manage},children:[{path:"register",name:C.register,component:Zt},{path:"login",name:C.login,component:ie},{path:"project/manage",name:C.project.manage,component:ee},{path:"project/create",name:C.project.create,component:B},{path:"console/:id",name:C.console.index,component:je,redirect:{name:C.console.dev},children:[{path:"dev",name:C.console.dev,component:Ut},{path:"doc",name:C.console.doc,component:Wt},{path:"setting",name:C.console.setting,component:Cn}]},{path:"/doc/:id",name:C.doc,component:Ln}]}]});Dn.beforeEach((function(e,t,n){n()}));var En,An,Nn,In,Mn,Un,Fn=Dn,Gn=n("d225"),qn=n("b0b4"),Tn=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{state:{},mutations:{},getters:{},actions:{}};Object(Gn["a"])(this,e),this.id=h.guid(),this.state=this.getState(t),this.mutations=this.getMutation(t),this.getters=t.getters,this.actions=t.actions}return Object(qn["a"])(e,[{key:"getState",value:function(e){var t=h.clone(e.state);for(var n in t.error={},t.ready={},e.state)t[n]=e.state[n],t.ready[n]=!1,t.error[n]=!1;return t}},{key:"getMutation",value:function(e){var t=this,n=h.clone(e.mutations),r=function(e){var r=e.match(/\S/)[0],a=e.replace(r,r.toUpperCase());n["set".concat(a,"Ready").concat(t.id)]=function(t,n){t.ready[e]=n},n["set".concat(a,"Error").concat(t.id)]=function(t,n){t.error[e]=n}};for(var a in e.state)r(a);return n}},{key:"setReady",value:function(e,t,n){var r=t.match(/\S/)[0],a=t.replace(r,r.toUpperCase());e.commit("set".concat(a,"Ready").concat(this.id),n)}},{key:"setError",value:function(e,t,n){var r=t.match(/\S/)[0],a=t.replace(r,r.toUpperCase());e.commit("set".concat(a,"Error").concat(this.id),n)}}]),e}(),Rn=Tn,zn=new Rn({state:{dataStore:[]},mutations:Object(W["a"])({},E.demo.update,(function(e,t){e.dataStore=t})),getters:Object(W["a"])({},L.demo.getFirst,(function(e){return e.dataStore[0]})),actions:Object(W["a"])({},N.demo.queryData,(function(e,t){return new Promise((function(n,r){w({url:S.demo.queryData,data:t}).then((function(t){e.commit(E.demo.update,t),n()})).catch((function(e){r(e)}))}))}))}),Bn=zn,Jn=new Rn({state:{user:null,memberList:[]},mutations:(En={},Object(W["a"])(En,E.user.setUser,(function(e,t){e.user=t})),Object(W["a"])(En,E.user.update,(function(e,t){e.user=t})),Object(W["a"])(En,E.user.setList,(function(e,t){e.memberList=t})),Object(W["a"])(En,E.user.addMember,(function(e,t){e.memberList.push(t)})),Object(W["a"])(En,E.user.removeMember,(function(e,t){e.memberList.forEach((function(n,r){n.id===t&&e.memberList.splice(r,1)}))})),En),actions:(An={},Object(W["a"])(An,N.user.login,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{username:"",password:""};return new Promise((function(n,r){w({url:S.user.login,data:t}).then((function(t){e.commit(E.user.setUser,t.data),n()})).catch((function(e){r(e)}))}))})),Object(W["a"])(An,N.user.logout,(function(e){return new Promise((function(t,n){w({url:S.user.logout,method:"get"}).then((function(){e.commit(E.user.setUser,null),t()})).catch((function(e){n(e)}))}))})),Object(W["a"])(An,N.user.getUser,(function(e){return new Promise((function(t,n){w({url:S.user.getCurrent,method:"get"}).then((function(n){e.commit(E.user.setUser,n.data),t()})).catch((function(e){n(e)}))}))})),Object(W["a"])(An,N.user.addUser,(function(e,t){return new Promise((function(e,n){w({url:S.user.add,data:t}).then((function(){e()})).catch((function(e){n(e)}))}))})),Object(W["a"])(An,N.user.update,(function(e,t){return new Promise((function(n,r){w({url:S.user.update,data:t}).then((function(t){e.commit(E.user.update,t.data),n()})).catch((function(e){r(e)}))}))})),Object(W["a"])(An,N.user.query,(function(e,t){return new Promise((function(n,r){w({url:S.user.query,data:{projectId:t}}).then((function(t){e.commit(E.user.setList,t.data),n()})).catch((function(e){r(e)}))}))})),Object(W["a"])(An,N.user.invite,(function(e,t){return new Promise((function(n,r){w({url:S.user.invite,data:t}).then((function(t){e.commit(E.user.addMember,t.data),n()})).catch((function(e){r(e)}))}))})),Object(W["a"])(An,N.user.removeMember,(function(e,t){return new Promise((function(n,r){w({url:S.user.removeMember,data:t}).then((function(r){e.commit(E.user.removeMember,t.userId),n()})).catch((function(e){r(e)}))}))})),An)}),Vn=Jn,Wn=new Rn({state:{list:[],proxyServerList:[],currentProject:null},mutations:(Nn={},Object(W["a"])(Nn,E.project.setList,(function(e,t){e.list=t})),Object(W["a"])(Nn,E.project.setCurrent,(function(e,t){e.currentProject=t})),Object(W["a"])(Nn,E.project.del,(function(e,t){e.list.forEach((function(n,r){n.id===t&&e.list.splice(r,1)}))})),Object(W["a"])(Nn,E.project.setProxyServerList,(function(e,t){e.proxyServerList=t})),Nn),actions:(In={},Object(W["a"])(In,N.project.query,(function(e){return Wn.setError(e,"list",!1),Wn.setReady(e,"list",!1),new Promise((function(t,n){w({url:S.project.query}).then((function(n){e.commit(E.project.setList,n.data),Wn.setReady(e,"list",!0),t()})).catch((function(t){Wn.setReady(e,"list",!0),Wn.setError(e,"list",!0),n(t)}))}))})),Object(W["a"])(In,N.project.getById,(function(e,t){return new Promise((function(n,r){w({url:S.project.getById,method:"get",data:{id:t}}).then((function(t){e.commit(E.project.setCurrent,t.data),n()})).catch((function(e){r(e)}))}))})),Object(W["a"])(In,N.project.create,(function(e,t){return new Promise((function(e,n){w({url:S.project.create,data:t}).then((function(t){e(t.data)})).catch((function(e){n(e)}))}))})),Object(W["a"])(In,N.project.del,(function(e,t){return new Promise((function(n,r){w({url:S.project.del,data:{id:t},method:"delete"}).then((function(r){e.commit(E.project.del,t),n()})).catch((function(e){r(e)}))}))})),Object(W["a"])(In,N.project.queryProxyServer,(function(e,t){return new Promise((function(n,r){Wn.setReady(e,"proxyServerList",!1),Wn.setError(e,"proxyServerList",!1),w({url:S.project.queryProxyServer,method:"get",data:{projectId:t}}).then((function(t){e.commit(E.project.setProxyServerList,t.data),Wn.setReady(e,"proxyServerList",!0),n()})).catch((function(t){Wn.setError(e,"proxyServerList",!0),r(t)}))}))})),Object(W["a"])(In,N.project.update,(function(e,t){return new Promise((function(n,r){w({url:S.project.update,data:t}).then((function(t){e.commit(E.project.setCurrent,t.data),n()})).catch((function(e){r(e)}))}))})),In)}),Hn=Wn,Kn=new Rn({state:{groupList:[]},mutations:(Mn={},Object(W["a"])(Mn,E.api.setGroupList,(function(e,t){e.groupList=t})),Object(W["a"])(Mn,E.api.addGroup,(function(e,t){e.groupList.push(t)})),Object(W["a"])(Mn,E.api.updateGroup,(function(e,t){e.groupList.forEach((function(e){e.id===t.id&&(e=t)}))})),Object(W["a"])(Mn,E.api.del,(function(e,t){e.groupList.forEach((function(e){e.apiList.forEach((function(n,r){n.id===t&&e.apiList.splice(r,1)}))}))})),Mn),actions:(Un={},Object(W["a"])(Un,N.api.queryGroup,(function(e,t){return new Promise((function(n,r){w({url:S.api.queryGroup,data:{projectId:t}}).then((function(t){e.commit(E.api.setGroupList,t.data),n()})).catch((function(e){r(e)}))}))})),Object(W["a"])(Un,N.api.getById,(function(e,t){return new Promise((function(e,n){w({url:S.api.getById,method:"get",data:{id:t}}).then((function(t){e(t.data)})).catch((function(e){n(e)}))}))})),Object(W["a"])(Un,N.api.update,(function(e,t){return new Promise((function(e,n){w({url:S.api.update,data:t}).then((function(){e()})).catch((function(e){n(e)}))}))})),Object(W["a"])(Un,N.api.addGroup,(function(e,t){return new Promise((function(n,r){w({url:S.api.addGroup,data:t}).then((function(t){e.commit(E.api.addGroup,t.data),n()})).catch((function(e){r(e)}))}))})),Object(W["a"])(Un,N.api.updateGroup,(function(e,t){return new Promise((function(n,r){w({url:S.api.updateGroup,data:t}).then((function(){e.commit(E.api.updateGroup,t),n()})).catch((function(e){r(e)}))}))})),Object(W["a"])(Un,N.api.delGroup,(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{id:"",projectId:""};return new Promise((function(e,n){w({url:S.api.deleteGroup,data:t,method:"delete"}).then((function(){e()})).catch((function(e){n(e)}))}))})),Object(W["a"])(Un,N.api.del,(function(e,t){return new Promise((function(n,r){w({url:S.api.del,method:"delete",data:{id:t}}).then((function(){e.commit(E.api.del,t),n()})).catch((function(e){r(e)}))}))})),Object(W["a"])(Un,N.api.add,(function(e,t){return new Promise((function(e,n){w({url:S.api.add,data:t}).then((function(t){e(t.data)})).catch((function(e){n(e)}))}))})),Object(W["a"])(Un,N.api.updateList,(function(e,t){return new Promise((function(e,n){w({url:S.api.updateList,data:t}).then((function(){e()})).catch((function(e){n(e)}))}))})),Un)}),Yn=Kn,Qn=new Rn({state:{methodList:["GET","POST","DELETE","PUT"].map((function(e){return{name:e}})),runTypeList:["staticMock","scriptMock","proxy","auto","test"].map((function(e){return{name:e}})),fieldType:["String","Number","Boolean","Object","Array"].map((function(e){return{name:e}}))},mutations:{},actions:{}}),Xn=Qn;o["default"].use(H["a"]);var Zn=new H["a"].Store({modules:{demo:Bn,user:Vn,project:Hn,api:Yn,common:Xn}}),er=n("81e2"),tr=n.n(er);n("bb73"),n("b116"),n("f9d4"),n("a7be"),n("7ba3");o["default"].use(tr.a),o["default"].config.productionTip=!1,o["default"].config.devtools=!0,new o["default"]({router:Fn,store:Zn,render:function(e){return e(p)}}).$mount("#app")},"5bd4":function(e,t,n){"use strict";var r=n("795c"),a=n.n(r);a.a},"5cb6":function(e,t,n){"use strict";var r=n("b248"),a=n.n(r);a.a},"5ee7":function(e,t,n){"use strict";var r=n("433f"),a=n.n(r);a.a},6375:function(e,t,n){"use strict";var r=n("9603"),a=n.n(r);a.a},"687d":function(e,t,n){"use strict";var r=n("d9c2"),a=n.n(r);a.a},"692a":function(e,t,n){"use strict";var r=n("235a"),a=n.n(r);a.a},"795c":function(e,t,n){},"7f5a":function(e,t,n){},"887e":function(e,t,n){"use strict";var r=n("1355"),a=n.n(r);a.a},8906:function(e,t,n){},"8b5b":function(e,t,n){"use strict";var r=n("fa24"),a=n.n(r);a.a},"8f18":function(e,t,n){"use strict";var r=n("3ded"),a=n.n(r);a.a},"94bf":function(e,t,n){},9603:function(e,t,n){},9646:function(e,t,n){"use strict";var r=n("a441"),a=n.n(r);a.a},a441:function(e,t,n){},a781:function(e,t,n){},b248:function(e,t,n){},b570:function(e,t,n){},c55b:function(e,t,n){},cf25:function(e,t,n){"use strict";var r=n("56cc"),a=n.n(r);a.a},d9c2:function(e,t,n){},d9fce:function(e,t,n){"use strict";var r=n("16b4"),a=n.n(r);a.a},da6d:function(e,t,n){},e080:function(e,t,n){"use strict";var r=n("31c3"),a=n.n(r);a.a},e57e:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"tree-menu",style:e.style},e._l(e.store,(function(t){return n("tree-node",{key:t[e.keyField],attrs:{width:e.width,node:t,label:e.label,level:e.level,"key-field":e.keyField,"children-field":e.childrenField,"alias-label":e.aliasLabel,filter:e.filter,onChoose:e.onClickNode,chosenNode:e.chosenNode||e.currentNode}},[e._t("default",null,{node:t})],2)})),1)},a=[],o=(n("c5f6"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{key:e.node[e.keyField],staticClass:"tree-node"},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.haveChildren||new RegExp(e.filter).test(e.node[e.label])||new RegExp(e.filter).test(e.node[e.aliasLabel]),expression:"haveChildren || (new RegExp(filter).test(node[label]) || new RegExp(filter).test(node[aliasLabel]))"}],class:e.nodeClass,on:{click:e.onClick}},[e._t("default",[n("span",{staticClass:"tree-node-label",style:e.nodeStyle,attrs:{title:e.node[e.label]||e.node[e.aliasLabel]}},[e._v(e._s(e.node[e.label]||e.node[e.aliasLabel]))]),e.haveChildren?n("i",{staticClass:"mock-pulldown tree-collapse"}):e._e()],{node:e.node})],2),e.haveChildren&&e.expand?n("tree-menu",{attrs:{width:e.width,onChoose:e.onChoose,level:e.level+1,label:e.label,"key-field":e.keyField,"children-field":e.childrenField,"alias-label":e.aliasLabel,filter:e.filter,chosenNode:e.chosenNode,store:e.node[e.childrenField]}}):e._e()],1)}),i=[],s={name:"treeNode",components:{TreeMenu:function(){return Promise.resolve().then(n.bind(null,"e57e"))}},props:{width:{type:[Number,String],default:200},label:{type:String},aliasLabel:{type:String},keyField:{type:String,default:"id"},childrenField:{type:String,default:"children"},level:{type:Number,default:1},node:{type:Object},onChoose:{type:Function},chosenNode:null,filter:{type:String}},data:function(){return{expand:!0}},computed:{checked:function(){return this.chosenNode===this.node},nodeClass:function(){return{"tree-banner":!0,"__have-children":this.haveChildren,__expand:this.expand&&this.haveChildren,__checked:this.checked}},nodeStyle:function(){return{paddingLeft:10*this.level+"px"}},haveChildren:function(){return this.node[this.childrenField]&&this.node[this.childrenField].length}},methods:{onClick:function(){this.haveChildren||!this.onChoose||this.checked?this.expand=!this.expand:this.onChoose(this.node)}}},c=s,l=n("2877"),u=Object(l["a"])(c,o,i,!1,null,null,null),d=u.exports,p={name:"treeMenu",components:{TreeNode:d},props:{width:{type:[Number,String],default:200},label:{type:String},aliasLabel:{type:String},keyField:{type:String,default:"id"},childrenField:{type:String,default:"children"},level:{type:Number,default:1},store:{type:Array,default:function(){return[]}},onChoose:{type:Function},chosenNode:null,filter:{type:String}},data:function(){return{currentNode:null}},computed:{style:function(){return{width:this.width+"px"}}},methods:{onClickNode:function(e){this.currentNode=e,this.onChoose(e)}}},m=p,f=(n("6375"),Object(l["a"])(m,r,a,!1,null,null,null));t["default"]=f.exports},ede9:function(e,t,n){"use strict";var r=n("8906"),a=n.n(r);a.a},ef9e:function(e,t,n){"use strict";var r=n("7f5a"),a=n.n(r);a.a},f891:function(e,t,n){},fa24:function(e,t,n){}});
//# sourceMappingURL=app.4b83fcc5.js.map