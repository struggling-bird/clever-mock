(function(t){function e(e){for(var n,o,s=e[0],c=e[1],u=e[2],p=0,d=[];p<s.length;p++)o=s[p],r[o]&&d.push(r[o][0]),r[o]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(d.length)d.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,s=1;s<a.length;s++){var c=a[s];0!==r[c]&&(n=!1)}n&&(i.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},i=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=e,s=s.slice();for(var u=0;u<s.length;u++)e(s[u]);var l=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"0352":function(t,e,a){"use strict";var n=a("0794"),r=a.n(n);r.a},"0794":function(t,e,a){},"0f22":function(t,e,a){},1:function(t,e){},"191b":function(t,e,a){},"1fe8":function(t,e,a){"use strict";var n=a("59d3"),r=a.n(n);r.a},"28d7":function(t,e,a){"use strict";var n=a("6dd8"),r=a.n(n);r.a},"2b7e":function(t,e,a){"use strict";var n=a("659e"),r=a.n(n);r.a},3714:function(t,e,a){"use strict";var n=a("963b"),r=a.n(n);r.a},"3b75":function(t,e,a){},"403d":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("cadf"),a("551c"),a("097d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},i=[],o={name:"App"},s=o,c=(a("cf25"),a("2877")),u=Object(c["a"])(s,r,i,!1,null,null,null);u.options.__file="App.vue";var l,p,d=u.exports,m=a("8c4f"),f=(a("ac6a"),a("4917"),a("3b2b"),a("a481"),a("28a5"),a("6b54"),{dayTime:864e5,type:function(t){return Object.prototype.toString.call(t)},isObject:function(t){return"[object Object]"===this.type(t)},isArray:function(t){return"[object Array]"===this.type(t)},isString:function(t){return"[object String]"===this.type(t)},isNumber:function(t){return"[object Number]"===this.type(t)},isDate:function(t){return"[object Date]"===this.type(t)},isFunction:function(t){return"[object Function]"===this.type(t)},isEqual:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return JSON.stringify(t)===JSON.stringify(e)},equal:function(t,e){return JSON.stringify(t)===JSON.stringify(e)},random:function(t,e){return Math.round(Math.random()*(e-t))+t},guid:function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},clone:function(t){if(this.isObject(t)){var e={};for(var a in t){var n=t[a];e[a]=this.clone(n)}return e}if(this.isArray(t)){for(var r=[],i=0;i<t.length;i++){var o=t[i];r.push(this.clone(o))}return r}return t},mergeObject:function(t,e){for(var a in t=t||{},e=e||{},t)if(this.isObject(t[a]))e[a]=e[a]?e[a]:{},this.mergeObject(t[a],e[a]);else if(this.isArray(t[a]))if(e[a]&&e[a]!==[]){var n=0,r=e[a].length,i=t[a].length;for(n;n<r&&n<i;n++)e[a][n]=this.mergeObject(t[a][n],e[a][n])}else e[a]=t[a];else e[a]=null===e[a]||void 0===e[a]?t[a]:e[a];return e},toThousands:function(t){var e=String(t).split(".");return e[0]=e[0].replace(new RegExp("(\\d)(?=(\\d{3})+$)","ig"),"$1,"),e.join(".")},toDoubleNumber:function(t){return t+="",t>9?t:"0"+t},dateFormat:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"yyyy-mm-dd";return e.replace("yyyy",t.getFullYear()).replace("mm",this.toDoubleNumber(t.getMonth()+1)).replace("dd",this.toDoubleNumber(t.getDate()))},timeFormat:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new Date,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"hh:mm:ss",a=arguments.length>2?arguments[2]:void 0;if(this.isDate(t))return e.replace("hh",this.toDoubleNumber(t.getHours())).replace("mm",this.toDoubleNumber(t.getMinutes())).replace("ss",this.toDoubleNumber(t.getSeconds()));if(this.isNumber(t)){var n=parseInt((parseFloat(t)/1e3).toFixed(0)),r=parseInt(n/60),i=parseInt(r/60);return n-=60*r,r-=60*i,i||!a||(e=e.replace(/hh\S*?mm/,"mm"),r)?e.replace("hh",this.toDoubleNumber(i)).replace("mm",this.toDoubleNumber(r)).replace("ss",this.toDoubleNumber(n)):(e=e.replace(/mm\S*?ss/,"ss"),e.replace("ss",n))}},initializeConstants:function(t,e){for(var a in t){var n=t[a];f.isObject(n)?this.initializeConstants(n,"".concat(e,"-").concat(a)):t[a]="".concat(e,"-").concat(a)}},loadImage:function(t){var e=document.getElementById("zg-util-img-loader");if(!e){var a=document.createElement("canvas");a.setAttribute("id","zg-util-img-loader"),a.style.position="fixed",a.style.top="-999999px",document.body.appendChild(a),e=a}return new Promise(function(a,n){var r=new Image;r.crossOrigin="anonymous",r.onload=function(){var t=e.getContext("2d");e.setAttribute("width",r.width),e.setAttribute("height",r.height),t.clearRect(0,0,99999,99999),t.drawImage(r,0,0,r.width,r.height),a(e.toDataURL())},r.onabort=r.oncancel=r.onerror=function(t){n(t)},r.src=t})},strMiddleSplit:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxLength:20,beginLength:8,endLength:8,replaceStr:"..."};t+="";var a={fullCharReg:/[^\x00-\xff]/,fullCharsReg:/[^\x00-\xff]/g,anyChars:/[\S\s]{1}/g},n=(t.match(a.fullCharsReg)||[]).length,r=t.length+n,i=[],o=0,s=[],c=0;if(r>e.maxLength){var u=t.match(a.anyChars);return u.forEach(function(t){if(!(o>=e.beginLength)){var n=a.fullCharReg.test(t)?2:1;o+=n,i.push(t)}}),u.reverse().forEach(function(t){if(!(c>=e.endLength)){var n=a.fullCharReg.test(t)?2:1;c+=n,s.push(t)}}),i.join("")+e.replaceStr+s.reverse().join("")}return t},copy:function(t){return new Promise(function(e,a){var n="zgClipboardInput";if(!document.getElementById(n)){var r=document.createElement("input");r.type="text",r.id=n,r.style="position: fixed; top: -9999999px; z-index: -9999999",document.body.appendChild(r)}var i=document.getElementById(n);i.value=t,i.focus(),i.setSelectionRange(0,t.length);var o=!1;o=document.execCommand("copy",!0),o?e():a(new Error("copy failed"))})},bind:function(t,e,a){t.addEventListener?t.addEventListener(e,a,!1):t.attachEvent?t.attachEvent("on"+e,a):t["on"+e]=a},getWheelEventName:function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"}}),h=f,v=a("bc3a"),g=a.n(v),b={SUCCESS:100,Error:101,NO_PERMISSION:103,NOT_LOGIN:102,PARAM_NULL:104},y=g.a.CancelToken;function j(t){var e=!0,a=t.data.code;switch(a&&(a=parseInt(a)),a){case b.NO_PERMISSION:e=!1;break;case b.NOT_LOGIN:e=!1,/\/login/.test(window.location.href)||(location.href="/login");break;case b.Error:e=!1;break;case b.PARAM_NULL:e=!1;break;case b.SUCCESS:break;default:console.warn("非标准状态码",t.data)}return e}function _(t){return/^2\d+/.test(t)}var x=function(t){t=h.mergeObject({method:"post",url:"",data:null,baseURL:"/",unique:!1,withCredentials:!0},t);var e=/\{\S*?\}/g;if(e.test(t.url)){var a=t.url.match(e);a.forEach(function(e){var a=e.replace(/[\{\}]/g,"");t.url=t.url.replace(e,t.data[a]),delete t.data[a]})}return t.cancelToken||(l&&delete l["cancelToken"],(h.isEqual(t,l)||t.unique&&l&&l.url===t.url)&&p(),t.cancelToken=new y(function(t){p=t}),l=t),new Promise(function(e,a){g()(t).then(function(t){_(t.status)&&j(t)?e(t.data):a(new Error(JSON.stringify({message:"请求状态或接口状态码错误",request:t.request.responseURL,response:t.data.data})))}).catch(function(t){g.a.isCancel(t)||(window.vue&&window.vue.$message({type:"error",message:"系统或网络错误"}),a(t))})})},C=(a("a78e"),{index:"",project:{create:"",manage:""},console:{index:"",dev:"",doc:"",setting:""},login:"",register:""});h.initializeConstants(C,"router");var w=C,k=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"index"},[a("router-view")],1)},$=[],S=(a("7f7f"),a("6762"),a("2fdb"),{demo:{queryData:"/data/queryDemoData"},user:{login:"/api/user/login",logout:"/api/user/logout",getCurrent:"/api/user/getCurrent",add:"/api/user/add"},project:{query:"/api/project/query",getById:"/api/project/{id}",create:"/api/project/add",del:"/api/project/del/{id}",queryProxyServer:"/api/proxy/{projectId}",update:"/api/project/update"},api:{queryGroup:"/api/apiGroup/list",getById:"/api/{id}",update:"/api/update",addGroup:"/api/apiGroup/add",updateGroup:"/api/apiGroup/update",deleteGroup:"/api/apiGroup/delete/{id}/{projectId}",del:"/api/del/{id}",add:"/api/add",updateList:"/api/update/list"}}),O=S,L={demo:{getFirst:""}};h.initializeConstants(L,"getter");var P=L,E={demo:{update:""},user:{setUser:""},project:{setList:"",setCurrent:"",del:"",setProxyServerList:""},api:{setGroupList:"",addGroup:"",updateGroup:"",del:""}};h.initializeConstants(E,"mutation");var A=E,G={demo:{queryData:""},user:{login:"",logout:"",getUser:"",addUser:""},project:{query:"",getById:"",create:"",del:"",queryProxyServer:"",update:""},api:{queryGroup:"",addGroup:"",updateGroup:"",delGroup:"",getById:"",update:"",add:"",del:"",updateList:""}};h.initializeConstants(G,"action");var U=G,I={name:"layout",data:function(){return{msg:"index"}},beforeCreate:function(){var t=this;[w.login,w.register].includes(this.$route.name)||this.$store.dispatch(U.user.getUser).catch(function(e){t.$router.push({name:w.login}),console.error("用户未登录",e)})}},D=I,q=(a("3714"),Object(c["a"])(D,k,$,!1,null,null,null));q.options.__file="index.vue";var T=q.exports,N=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project-create"},[a("span",{staticClass:"brand"},[t._v("cleverMock")]),t._m(0),a("ul",{staticClass:"form-panel"},[a("li",[a("span",[t._v("项目名称：")]),a("c-input",{attrs:{size:"big",width:400,autoFocus:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("li",[a("span",[t._v("代理地址：")]),a("c-input",{attrs:{size:"big",width:400,placeholder:"http://proxy.domain.com"},model:{value:t.proxyUrl,callback:function(e){t.proxyUrl=e},expression:"proxyUrl"}})],1),a("li",[a("span",[t._v("描述：")]),a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.desc,expression:"desc"}],attrs:{rows:"8"},domProps:{value:t.desc},on:{input:function(e){e.target.composing||(t.desc=e.target.value)}}})]),a("li",[a("c-button",{staticClass:"btn-save",attrs:{size:"large",type:"primary"},on:{click:t.onSave}},[t._v("保存")])],1)])])},M=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"title-panel"},[a("div",{staticClass:"title"},[t._v("创建项目")])])}],F={name:"projectCreate",data:function(){return{name:"",proxyUrl:"",desc:""}},methods:{onSave:function(){var t=this;this.$store.dispatch(U.project.create,{name:this.name,proxyUrl:this.proxyUrl,desc:this.desc}).then(function(e){t.$router.replace({name:w.console.index,params:{id:e.id}})}).catch(function(e){t.$message({type:"error",message:"创建项目失败"}),console.error("创建项目失败",e)})}}},R=F,z=(a("0352"),Object(c["a"])(R,N,M,!1,null,null,null));z.options.__file="create.vue";var B=z.exports,V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project-manage"},[a("span",{staticClass:"brand"},[t._v("cleverMock")]),a("div",{staticClass:"title-panel"},[a("div",{staticClass:"title"},[t._v("项目列表")]),a("c-button",{attrs:{type:"primary",size:"large"},on:{click:t.onCreateProject}},[t._v("创建项目")])],1),a("div",{staticClass:"project-list"},[t._l(t.projectList,function(e){return a("div",{key:e.id,staticClass:"project-item",on:{click:function(a){t.onClickProject(e)}}},[t._m(0,!0),0===e.role?a("i",{staticClass:"mock-error_filled btn-del",on:{click:function(a){a.stopPropagation(),t.onDel(e)}}}):t._e(),a("div",{staticClass:"project-desc"},[a("c-tooltip",{attrs:{placement:"right",content:"项目名称"}},[t._v(t._s(e.name))]),a("br"),a("c-tooltip",{attrs:{placement:"right",content:"创建人"}},[t._v(t._s(e.username))]),a("br"),a("c-tooltip",{attrs:{placement:"right",content:"创建时间"}},[t._v(t._s(t.timeFormat(e.createTime)))])],1)])}),t.loading?a("c-loading"):t._e(),t.queryField?a("c-reload",{on:{reload:t.query}}):t._e(),t.loading||t.queryField||t.projectList.length?t._e():a("div",{staticClass:"empty-tip"},[t._v("暂无数据")])],2)])},J=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"project-logo"},[a("i",{staticClass:"mock-package"}),a("span",{staticClass:"project-status running"})])}],H=a("c93e"),W=a("2f62"),K={name:"projectManage",computed:Object(H["a"])({},Object(W["b"])({projectList:function(t){return t.project.list},queryField:function(t){return t.project.error.list},loading:function(t){return!t.project.ready.list}})),created:function(){this.query()},methods:{query:function(){this.$store.dispatch(U.project.query)},onCreateProject:function(){this.$router.push({name:w.project.create})},onClickProject:function(t){this.$router.push({name:w.console.index,params:{id:t.id}})},timeFormat:function(t){var e=new Date(t);return h.dateFormat(e)+" "+h.timeFormat(e,"hh:mm")},onDel:function(t){var e=this;this.$store.dispatch(U.project.del,t.id).catch(function(t){e.$message({type:"error",message:"删除项目失败"}),console.error("删除项目失败",t)})}}},Y=K,Q=(a("8f18"),Object(c["a"])(Y,V,J,!1,null,null,null));Q.options.__file="manage.vue";var X=Q.exports,Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login"},[a("span",{staticClass:"brand"},[t._v("CleverMock")]),a("div",{staticClass:"form-panel"},[a("div",{staticClass:"title"},[t._v("登录")]),a("c-input",{attrs:{size:"big",autoFocus:"","clear-able":"",placeholder:"用户名或邮箱"},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("c-input",{attrs:{size:"big",type:"password",placeholder:"密码"},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("c-button",{attrs:{size:"large",type:"primary"},on:{click:t.onLogin}},[t._v("登录")]),a("div",{staticClass:"ref-links"},[t._v("\n      还没有账号？立即"),a("a",{attrs:{href:"javascript:void(0)"},on:{click:t.toReg}},[t._v("注册")])])],1)])},tt=[],et={name:"login",data:function(){return{username:"",password:""}},methods:{onLogin:function(){var t=this;this.$store.dispatch(U.user.login,{username:this.username,password:this.password}).then(function(){t.$router.replace({name:w.project.manage})}).catch(function(e){t.$message({type:"error",message:"用户名或密码错误"}),console.error("登录失败",e)})},toReg:function(){this.$router.push({name:w.register})}}},at=et,nt=(a("e080"),Object(c["a"])(at,Z,tt,!1,null,null,null));nt.options.__file="index.vue";var rt=nt.exports,it=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"console-index"},[a("console-top"),a("div",{staticClass:"console-center"},[a("router-view")],1)],1)},ot=[],st=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"console-top"},[a("span",{staticClass:"logo",on:{click:t.toIndex}},[t._v("cleverMock")]),a("span",{staticClass:"project-name"},[t._v(t._s(t.project.name))]),a("div",{staticClass:"tab-bar"},[a("span",{class:{"btn-tab":!0,active:"dev"===t.mode},on:{click:function(e){t.redirect("dev")}}},[a("i",{staticClass:"mock-tiaoshi"}),t._v("开发模式")]),a("span",{class:{"btn-tab":!0,active:"doc"===t.mode},on:{click:function(e){t.redirect("doc")}}},[a("i",{staticClass:"mock-wendang"}),t._v("文档模式")]),a("span",{class:{"btn-tab":!0,active:"setting"===t.mode},on:{click:function(e){t.redirect("setting")}}},[a("i",{staticClass:"mock-setting"}),t._v("设置\n    ")])]),a("span",{staticClass:"logout",on:{click:t.onLogout}},[t._v("\n    "+t._s(t.user.name)),a("i",{staticClass:"mock-logout"})])])},ct=[],ut={name:"consoleTop",data:function(){var t=this.$route.name.split("-");return{mode:t[t.length-1]}},computed:Object(H["a"])({},Object(W["b"])({user:function(t){return t.user.user||{}},project:function(t){return t.project.currentProject||{}}})),watch:{$route:function(t){var e=t.name.split("-");this.mode=e[e.length-1]}},methods:{redirect:function(t){t!==this.mode&&this.$router.push({name:w.console[t],params:{id:this.$route.params.id}})},onLogout:function(){var t=this;this.$store.dispatch(U.user.logout).then(function(){t.$router.push({name:w.login})}).catch(function(e){t.$message({type:"error",message:"退出账号失败"}),console.error("退出账号失败",e)})},toIndex:function(){this.$router.push({name:w.project.manage})}}},lt=ut,pt=(a("692a"),Object(c["a"])(lt,st,ct,!1,null,null,null));pt.options.__file="top.vue";var dt=pt.exports,mt={name:"consoleIndex",components:{ConsoleTop:dt},data:function(){return{msg:"index"}},beforeCreate:function(){this.$store.dispatch(U.project.getById,this.$route.params.id)}},ft=mt,ht=(a("d9fc"),Object(c["a"])(ft,it,ot,!1,null,null,null));ht.options.__file="index.vue";var vt=ht.exports,gt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dev-view"},[a("div",{staticClass:"api-list-panel"},[a("c-input",{staticClass:"api-search",attrs:{width:310,clearAble:"",placeholder:"搜索",icon:"mock-search"},model:{value:t.filter,callback:function(e){t.filter=e},expression:"filter"}}),a("div",{staticClass:"ctl-panel"},[a("i",{staticClass:"btn-sort mock-sort-alpha-desc"}),a("i",{staticClass:"btn-add mock-wenjianjia",on:{click:t.onAddGroup}})]),a("div",{staticClass:"api-list"},t._l(t.groupList,function(e){return a("ul",{key:e.id,staticClass:"group"},[a("li",{staticClass:"group-title"},[a("i",{staticClass:"mock-folder"}),a("i",{staticClass:"btn-add mock-add",on:{click:function(a){t.addApi(e)}}}),a("span",{staticClass:"desc",on:{click:function(a){t.onEditGroup(e)}}},[t._v(t._s(e.name))])]),t._l(e.apiList,function(e){return t.apiVisible(e)?a("li",{key:e.id,class:{api:!0,active:t.currentApi===e},on:{click:function(a){t.currentApi=e}}},[a("c-tooltip",{attrs:{content:e.path,placement:"right"}},[a("span",{staticClass:"url"},[t._v(t._s(t.pathFormat(e.name||e.path)))])]),a("span",{class:(n={method:!0},n[e.method.toLowerCase()]=!0,n)},[t._v(t._s(e.method))])],1):t._e();var n})],2)}))],1),a("div",{staticClass:"api-detail-panel"},[t.currentApi||t.addApiMode?a("api-detail",{attrs:{addMode:t.addApiMode,"api-id":t.currentApi?t.currentApi.id:null},on:{del:t.onDelApi,afterAdd:t.afterAdd}}):a("div",{staticClass:"empty-tip"},[a("span",{staticClass:"title"},[t._v("接入方式")]),a("div",{staticClass:"section"},[a("span",{staticClass:"desc"},[t._v("请求头信息中，增加：")]),a("pre",{staticClass:"language-javascript"},[t._v("          "),a("code",{domProps:{innerHTML:t._s(t.guideCode)}}),t._v("\n        ")])])])],1),t.showCreateGroup?a("group-dialog",{attrs:{group:t.currentGroup},on:{del:function(e){t.showCreateGroup=!1},submit:function(e){t.showCreateGroup=!1},cancel:function(e){t.showCreateGroup=!1}}}):t._e()],1)},bt=[],yt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"api-detail"},[t.loading?a("c-loading"):t._e(),t.reload?a("c-reload",{on:{reload:t.getById}}):t._e(),t.loading||t.reload?t._e():[a("div",{staticClass:"api-base"},[a("form-item",{attrs:{label:"API名称"}},[a("c-input",{attrs:{clearAble:"",width:300},model:{value:t.api.name,callback:function(e){t.$set(t.api,"name",e)},expression:"api.name"}}),t.api.id?a("c-button",{staticClass:"btn-del",attrs:{type:"danger",size:"normal"},on:{click:t.onDel}},[t._v("删除")]):t._e()],1),a("form-item",{attrs:{label:"自动更新"}},[a("c-checkbox",{model:{value:t.api.autoUpdate,callback:function(e){t.$set(t.api,"autoUpdate",e)},expression:"api.autoUpdate"}})],1),a("form-item",{attrs:{label:"调用延时"}},[a("c-input",{model:{value:t.api.delay,callback:function(e){t.$set(t.api,"delay",e)},expression:"api.delay"}}),a("span",{staticClass:"unit"},[t._v("s")])],1),a("form-item",{attrs:{label:"代理地址"}},[a("c-selector",{attrs:{theme:"tag",store:t.proxyList,max:1,width:300,splitStrFormat:{maxLength:42},"key-field":"url",labelField:"url"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.data;return[a("span",{attrs:{title:n.url}},[t._v(t._s(n.name||n.url))])]}}]),model:{value:t.proxyUrl,callback:function(e){t.proxyUrl=e},expression:"proxyUrl"}})],1),a("div",{staticClass:"url-line"},[a("c-selector",{staticClass:"method-select",attrs:{size:"big",width:80,store:t.methodList,"label-field":"name",keyField:"name"},model:{value:t.methodName,callback:function(e){t.methodName=e},expression:"methodName"}}),a("c-input",{staticClass:"url-input",attrs:{width:400,clearAble:"",autoFocus:"",size:"big",placeholder:"URL"},model:{value:t.api.path,callback:function(e){t.$set(t.api,"path",e)},expression:"api.path"}}),a("c-selector",{staticClass:"run-type-select",attrs:{store:t.runTypeList,width:120,size:"big",keyField:"name",labelField:"name"},model:{value:t.runType,callback:function(e){t.runType=e},expression:"runType"}}),"test"===t.runType.name?a("c-button",{attrs:{size:"large",type:"primary",theme:"border"}},[t._v("发送")]):t._e(),a("c-button",{directives:[{name:"show",rawName:"v-show",value:t.saveAble,expression:"saveAble"}],attrs:{size:"large",type:"primary"},on:{click:t.onSave}},[t._v("保存")])],1)],1),a("div",{staticClass:"api-config"},[a("c-tabs",[a("c-tab-panel",{attrs:{title:"参数结构"}},[a("param-view",{model:{value:t.api.params,callback:function(e){t.$set(t.api,"params",e)},expression:"api.params"}})],1),a("c-tab-panel",{attrs:{title:"返回结构"}},[a("res-view",{model:{value:t.api.resStructure,callback:function(e){t.$set(t.api,"resStructure",e)},expression:"api.resStructure"}})],1),a("c-tab-panel",{attrs:{title:"接口描述"}},[a("api-desc",{model:{value:t.api.description,callback:function(e){t.$set(t.api,"description",e)},expression:"api.description"}})],1),a("c-tab-panel",{attrs:{title:"mock数据"}},[a("mock-data",{model:{value:t.api.mockData,callback:function(e){t.$set(t.api,"mockData",e)},expression:"api.mockData"}})],1),a("c-tab-panel",{attrs:{title:"mock脚本"}},[a("mock-script",{model:{value:t.api.mockScript,callback:function(e){t.$set(t.api,"mockScript",e)},expression:"api.mockScript"}})],1)],1)],1)]],2)},jt=[],_t=(a("c5f6"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"param-view"},[a("table",{staticClass:"param-table"},[t._m(0),a("tbody",[t._l(t.paramList,function(e,n){return a("tr",{key:e.id},[a("td",[a("c-checkbox",{model:{value:e.required,callback:function(a){t.$set(e,"required",a)},expression:"param.required"}})],1),a("td",[a("c-input",{model:{value:e.name,callback:function(a){t.$set(e,"name",a)},expression:"param.name"}})],1),a("td",[a("c-selector",{attrs:{store:t.typeList,width:80,keyField:"value",labelField:"name"},model:{value:e.type,callback:function(a){t.$set(e,"type",a)},expression:"param.type"}})],1),a("td",[a("c-input",{model:{value:e.value,callback:function(a){t.$set(e,"value",a)},expression:"param.value"}})],1),a("td",[a("c-input",{model:{value:e.description,callback:function(a){t.$set(e,"description",a)},expression:"param.description"}})],1),a("td",[a("c-button",{staticClass:"btn-del",attrs:{type:"danger"},on:{click:function(e){t.onDel(n)}}},[t._v("删除")]),a("c-button",{attrs:{type:"primary"},on:{click:t.onAdd}},[t._v("添加")])],1)])}),t.paramList.length?t._e():a("tr",[a("td",{staticStyle:{"text-align":"center",padding:"20px 0"},attrs:{colspan:"6"}},[a("c-button",{attrs:{type:"primary",theme:"border"},on:{click:t.onAdd}},[t._v("添加参数")])],1)])],2)])])}),xt=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("td",[t._v("必填")]),a("td",[t._v("参数名称")]),a("td",[t._v("参数类型")]),a("td",[t._v("默认值")]),a("td",[t._v("描述")]),a("td",[t._v("操作")])])])}],Ct={name:"paramView",props:{value:{type:Array,default:function(){return[]}}},data:function(){return{typeList:[{name:"字符串",value:"string"},{name:"数字",value:"number"},{name:"数组",value:"array"},{name:"布尔值",value:"boolean"}],paramList:this.value.map(function(t){var e=h.clone(t);return e.id=h.guid(),e.type={value:e.type},e})}},watch:{paramList:{handler:function(t){var e=[];t.forEach(function(t){var a=h.clone(t);delete a.id,a.type=a.type.value,a.name&&e.push(a)}),this.$emit("input",e)},deep:!0}},methods:{onAdd:function(){this.paramList.push({id:h.guid(),name:"",type:{value:"string"},description:"",value:"",required:!0})},onDel:function(t){this.paramList.splice(t,1)}}},wt=Ct,kt=(a("ef9e"),Object(c["a"])(wt,_t,xt,!1,null,null,null));kt.options.__file="paramView.vue";var $t=kt.exports,St=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"res-view"},[a("div",{staticClass:"preview"},[a("div",[a("pre",{staticClass:"language-json"},[t._v("        "),a("code",{domProps:{innerHTML:t._s(t.code)}}),t._v("\n      ")])])]),a("div",{staticClass:"code-view"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.response,expression:"response"}],domProps:{value:t.response},on:{input:function(e){e.target.composing||(t.response=e.target.value)}}})])])},Ot=[],Lt=a("8c7a"),Pt=a.n(Lt),Et=(a("cb55"),a("416b"),a("f393"),a("6605"),a("6cf3"),a("4e93"),a("c0f1"),a("92bf"),{name:"resView",props:{value:null},data:function(){return{response:this.value,code:Pt.a.highlight(this.value||"",Pt.a.languages.json,"json")}},watch:{response:function(t){this.code=Pt.a.highlight(t,Pt.a.languages.json,"json"),this.$emit("input",t)}}}),At=Et,Gt=(a("5bd4"),Object(c["a"])(At,St,Ot,!1,null,null,null));Gt.options.__file="resView.vue";var Ut=Gt.exports,It=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"api-desc"},[a("textarea",{ref:"dom"})])},Dt=[],qt=a("ebfb"),Tt=a.n(qt),Nt={name:"apiDesc",props:{value:null},data:function(){return{editor:null}},mounted:function(){var t=this;this.editor=new Tt.a({element:this.$refs.dom,autofocus:!0}),this.editor.value(this.value||""),this.value&&this.editor.togglePreview(),this.editor.codemirror.on("change",function(){t.$emit("input",t.editor.value())})},methods:{}},Mt=Nt,Ft=(a("f139"),Object(c["a"])(Mt,It,Dt,!1,null,null,null));Ft.options.__file="apiDesc.vue";var Rt=Ft.exports,zt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mock-data"},[a("div",{staticClass:"preview"},[a("div",[a("pre",{staticClass:"language-json"},[t._v("        "),a("code",{domProps:{innerHTML:t._s(t.code)}}),t._v("\n      ")])])]),a("div",{staticClass:"code-view"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.mockData,expression:"mockData"}],domProps:{value:t.mockData},on:{input:function(e){e.target.composing||(t.mockData=e.target.value)}}})])])},Bt=[],Vt={name:"mockData",props:{value:null},data:function(){return{mockData:this.value,code:Pt.a.highlight(this.value||"",Pt.a.languages.json,"json")}},watch:{mockData:function(t){this.code=Pt.a.highlight(t,Pt.a.languages.json,"json"),this.$emit("input",t)}}},Jt=Vt,Ht=(a("ede9"),Object(c["a"])(Jt,zt,Bt,!1,null,null,null));Ht.options.__file="mockData.vue";var Wt=Ht.exports,Kt=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"mock-script"},[a("div",{staticClass:"preview"},[a("div",[a("pre",{staticClass:"language-json"},[t._v("        "),a("code",{domProps:{innerHTML:t._s(t.code)}}),t._v("\n      ")])])]),a("div",{staticClass:"code-view"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.mockScript,expression:"mockScript"}],domProps:{value:t.mockScript},on:{input:function(e){e.target.composing||(t.mockScript=e.target.value)}}})])])},Yt=[],Qt={name:"mockScript",props:{value:null},data:function(){return{mockScript:this.value,code:Pt.a.highlight(this.value||"",Pt.a.languages.javascript,"javascript")}},watch:{mockScript:function(t){this.code=Pt.a.highlight(t,Pt.a.languages.javascript,"javascript"),this.$emit("input",t)}}},Xt=Qt,Zt=(a("ea0a"),Object(c["a"])(Xt,Kt,Yt,!1,null,null,null));Zt.options.__file="mockScript.vue";var te=Zt.exports,ee=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-item"},[a("label",{staticClass:"form-label",style:t.style},[t._v("\n    "+t._s(t.label)+"：\n  ")]),t._t("default")],2)},ae=[],ne={name:"formItem",props:{label:{type:String},labelWidth:{type:[String,Number],default:70},labelAlign:{type:String,default:"right"}},computed:{style:function(){return{width:this.labelWidth+"px",textAlign:this.labelAlign}}}},re=ne,ie=(a("1fe8"),Object(c["a"])(re,ee,ae,!1,null,null,null));ie.options.__file="index.vue";var oe=ie.exports,se={name:"apiDetail",components:{FormItem:oe,MockScript:te,MockData:Wt,ApiDesc:Rt,ResView:Ut,ParamView:$t},props:{apiId:null,addMode:{type:Boolean,default:!1}},data:function(){return this.getData()},computed:Object(H["a"])({saveParam:function(){return Object(H["a"])({},this.api,{delay:Number(this.api.delay),method:this.methodName.name,runStyle:this.runType.name,proxyUrl:this.proxyUrl?this.proxyUrl.url:""})},saveAble:function(){return!h.equal(this.saveParam,this.preApi)}},Object(W["b"])({runTypeList:function(t){return t.common.runTypeList},methodList:function(t){return t.common.methodList},proxyList:function(t){return t.project.proxyServerList}})),mounted:function(){this.addMode||this.getById()},watch:{apiId:function(t){if(t)this.getById();else{var e=this.getData();for(var a in e)this[a]=e[a]}}},methods:{getData:function(){return{methodName:{name:"GET"},runType:{name:"proxy"},proxyUrl:null,api:{autoUpdate:!1,description:"",groupId:"",method:"POST",mockData:"",mockScript:"",name:"",params:[],path:"",projectId:"",proxyUrl:"",resFormatScript:null,resStructure:"",runStyle:"proxy",delay:0},preApi:null,loading:!this.addMode,reload:!1}},getById:function(){var t=this;this.loading=!0,this.reload=!1,this.$store.dispatch(U.api.getById,this.apiId).then(function(e){t.api=e,t.preApi=h.clone(e),t.methodName={name:e.method},t.runType={name:e.runStyle},t.proxyUrl={url:e.proxyUrl},t.loading=!1}).catch(function(e){t.loading=!1,t.reload=!0,t.$message({type:"error",message:"获取接口信息失败"}),console.error("获取接口信息失败",e)})},onSave:function(){this.addMode?this.add():this.update()},add:function(){var t=this;this.$store.dispatch(U.api.add,{api:this.saveParam,projectId:this.$route.params.id}).then(function(e){t.$store.dispatch(U.api.queryGroup,t.$route.params.id),t.$store.dispatch(U.project.queryProxyServer,t.$route.params.id),t.$emit("afterAdd",e)}).catch(function(e){t.$message({type:"error",message:"添加接口失败"}),console.error("添加接口失败",e)})},update:function(){var t=this;this.$store.dispatch(U.api.update,this.saveParam).then(function(){t.preApi=h.clone(t.saveParam),t.$store.dispatch(U.api.queryGroup,t.$route.params.id),t.$store.dispatch(U.project.queryProxyServer,t.$route.params.id)}).catch(function(e){t.$message({type:"error",message:"更新接口失败"}),console.error("更新接口失败",e)})},onDel:function(){var t=this;this.$store.dispatch(U.api.del,this.api.id).then(function(){t.$emit("del")}).catch(function(e){t.$message({type:"error",message:"删除API失败"}),console.error("删除API失败",e)})}}},ce=se,ue=(a("887e"),Object(c["a"])(ce,yt,jt,!1,null,null,null));ue.options.__file="api.vue";var le=ue.exports,pe=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"group-dialog"},[a("c-dialog",{attrs:{title:t.group?"编辑分组":"创建分组",showFoot:!1}},[a("form-item",{attrs:{label:"名称"}},[a("c-input",{attrs:{width:300},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("form-item",{attrs:{label:"匹配规则"}},[a("c-input",{attrs:{width:300},model:{value:t.reg,callback:function(e){t.reg=e},expression:"reg"}})],1),a("form-item",{attrs:{label:"描述"}},[a("div",{staticClass:"group-desc"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],ref:"desc",domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})])]),a("div",{staticClass:"btns"},[t.group?a("c-button",{attrs:{type:"danger"},on:{click:t.onDel}},[t._v("删除")]):t._e(),a("c-button",{on:{click:t.onCancel}},[t._v("取消")]),a("c-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确定")])],1)],1)],1)},de=[],me={name:"groupDialog",components:{FormItem:oe},props:{group:null},data:function(){var t={editor:null,name:"",reg:"",description:""};return this.group&&(t.name=this.group.name,t.reg=this.group.reg,t.description=this.group.description),t},computed:Object(H["a"])({},Object(W["b"])({project:function(t){return t.project.currentProject}}),{form:function(){var t={name:this.name,reg:this.reg,projectId:this.project.id};return this.group&&(t.id=this.group.id),t}}),mounted:function(){this.editor=new Tt.a({element:this.$refs.desc,autofocus:!0})},methods:{onSubmit:function(){var t=this;this.$store.dispatch(this.group?U.api.updateGroup:U.api.addGroup,Object(H["a"])({},this.form,{description:this.editor.value()})).then(function(){t.$store.dispatch(U.api.queryGroup,t.$route.params.id),t.$emit("submit")}).catch(function(e){t.$message({type:"error",message:"提交失败，请重试"}),console.error("添加分组失败",e)})},onCancel:function(){this.$emit("cancel")},onDel:function(){var t=this;this.$store.dispatch(U.api.delGroup,{id:this.group.id,projectId:this.group.projectId}).then(function(){t.$store.dispatch(U.api.queryGroup,t.$route.params.id),t.$emit("del")}).catch(function(e){t.$message({type:"error",message:"删除分组失败"}),console.error("删除分组失败",e)})}}},fe=me,he=(a("9646"),Object(c["a"])(fe,pe,de,!1,null,null,null));he.options.__file="groupDialog.vue";var ve=he.exports,ge={name:"devView",components:{GroupDialog:ve,ApiDetail:le},data:function(){return{filter:"",currentApi:null,showCreateGroup:!1,currentGroup:null,addApiMode:!1}},computed:Object(H["a"])({},Object(W["b"])({groupList:function(t){return t.api.groupList},project:function(t){return t.project.currentProject||{}}}),{guideCode:function(){return Pt.a.highlight("clever-mock: '".concat(this.project.secretKey,"'"),Pt.a.languages.javascript,"javascript")}}),beforeCreate:function(){this.$store.dispatch(U.api.queryGroup,this.$route.params.id),this.$store.dispatch(U.project.queryProxyServer,this.$route.params.id)},methods:{afterAdd:function(t){this.addApiMode=!1,this.currentApi=t},pathFormat:function(t){return h.strMiddleSplit(t,{maxLength:30,beginLength:12,endLength:15,replaceStr:"..."})},apiVisible:function(t){var e=this.filter.trim().toLowerCase();return!e||new RegExp(e).test(t.path.toLowerCase())},addApi:function(){this.currentApi=null,this.addApiMode=!0},onAddGroup:function(){this.showCreateGroup=!0},onEditGroup:function(t){this.currentGroup=t,this.showCreateGroup=!0},onDelApi:function(){this.currentApi=null}}},be=ge,ye=(a("2b7e"),Object(c["a"])(be,gt,bt,!1,null,null,null));ye.options.__file="devView.vue";var je=ye.exports,_e=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"doc-view"},[t._l(t.groupList,function(e){return t._l(e.apiList,function(e){return a("div",{key:e.id,staticClass:"api-doc"},[e.name?a("h3",[t._v(t._s(e.name))]):t._e(),a("div",{staticClass:"api-url"},[a("span",{staticClass:"api-method",class:e.method.toLowerCase()},[t._v(t._s(e.method))]),t._v(t._s(e.path)+"\n      ")]),e.description?a("c-tabs",[a("c-tab-panel",{attrs:{title:"描述"}},[t._v("\n          "+t._s(e.description)+"\n        ")])],1):t._e(),a("c-tabs",[a("c-tab-panel",{attrs:{title:"参数"}},[t._v("\n          "+t._s(e.params)+"\n        ")])],1),a("c-tabs",[a("c-tab-panel",{attrs:{title:"返回结构"}},[t._v("\n          "+t._s(e.resStructure)+"\n        ")])],1)],1)})})],2)},xe=[],Ce={name:"docView",data:function(){return{msg:"doc"}},computed:Object(H["a"])({},Object(W["b"])({groupList:function(t){return t.api.groupList}})),beforeCreate:function(){this.$store.dispatch(U.api.queryGroup,this.$route.params.id)}},we=Ce,ke=(a("5ee7"),Object(c["a"])(we,_e,xe,!1,null,null,null));ke.options.__file="docView.vue";var $e=ke.exports,Se=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"register"},[a("div",{staticClass:"reg_"},[a("form-item",{attrs:{label:"用户名"}},[a("c-input",{attrs:{width:260,clearAble:"",autoFocus:""},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),a("form-item",{attrs:{label:"密码"}},[a("c-input",{attrs:{type:"password",width:260},model:{value:t.form.password,callback:function(e){t.$set(t.form,"password",e)},expression:"form.password"}})],1),a("form-item",{attrs:{label:"邮箱"}},[a("c-input",{attrs:{width:260},model:{value:t.form.email,callback:function(e){t.$set(t.form,"email",e)},expression:"form.email"}})],1),a("c-button",{staticClass:"btn-reg",attrs:{type:"primary",size:"normal"},on:{click:t.onReg}},[t._v("注册")])],1)])},Oe=[],Le={name:"index",components:{FormItem:oe},data:function(){return{form:{name:"",password:"",email:""}}},methods:{onReg:function(){var t=this;this.$store.dispatch(U.user.addUser,this.form).then(function(){t.$router.replace({name:w.login})}).catch(function(e){t.$message({type:"error",message:"注册失败"}),console.error("注册失败",e)})}}},Pe=Le,Ee=(a("5cb6"),Object(c["a"])(Pe,Se,Oe,!1,null,null,null));Ee.options.__file="index.vue";var Ae=Ee.exports,Ge=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"setting"},[t.ready?a("div",{staticClass:"setting-form"},[a("form-item",{attrs:{label:"项目名称"}},[a("c-input",{attrs:{width:400,autoFocus:""},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}})],1),a("form-item",{attrs:{label:"代理地址"}},[a("c-selector",{attrs:{theme:"tag",store:t.proxyList,max:1,width:325,splitStrFormat:{maxLength:42},"key-field":"url",labelField:"url"},scopedSlots:t._u([{key:"default",fn:function(e){var n=e.data;return[a("span",{attrs:{title:n.url}},[t._v(t._s(n.name||n.url))])]}}]),model:{value:t.proxyUrl,callback:function(e){t.proxyUrl=e},expression:"proxyUrl"}}),a("c-checkbox",{staticClass:"setting-global-proxy",model:{value:t.proxyGlobal,callback:function(e){t.proxyGlobal=e},expression:"proxyGlobal"}},[t._v("全局")])],1),a("form-item",{attrs:{label:"描述"}},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.description,expression:"description"}],domProps:{value:t.description},on:{input:function(e){e.target.composing||(t.description=e.target.value)}}})]),a("div",{staticClass:"setting-handle"},[a("c-button",{attrs:{type:"primary",size:"normal"},on:{click:t.onSaveProject}},[t._v("保存")])],1),a("div",{staticClass:"setting-line"},[a("div",{staticClass:"line"}),a("label",[t._v("API全局设置")])]),a("form-item",{attrs:{label:"自动更新"}},[a("c-checkbox",{model:{value:t.autoUpdate,callback:function(e){t.autoUpdate=e},expression:"autoUpdate"}})],1),a("form-item",{attrs:{label:"调用延时"}},[a("c-input",{model:{value:t.delay,callback:function(e){t.delay=e},expression:"delay"}})],1),a("form-item",{attrs:{label:"运行方式"}},[a("c-selector",{attrs:{store:t.runTypeList,labelField:"name",keyField:"name"},model:{value:t.runType,callback:function(e){t.runType=e},expression:"runType"}})],1),a("div",{staticClass:"setting-handle"},[a("c-button",{attrs:{type:"primary",size:"normal"},on:{click:t.onUpdateApiList}},[t._v("保存")])],1)],1):a("c-loading")],1)},Ue=[],Ie={name:"setting",components:{FormItem:oe},data:function(){return{proxyUrl:null,name:"",description:"",autoUpdate:!1,delay:0,runType:null,proxyGlobal:!1}},computed:Object(H["a"])({},Object(W["b"])({proxyList:function(t){return t.project.proxyServerList},currentProject:function(t){var e=t.project.currentProject;return e&&(this.name=e.name,this.description=e.description,this.proxyUrl={url:e.proxyUrl}),e},runTypeList:function(t){return t.common.runTypeList},ready:function(t){return this.currentProject&&t.project.ready.proxyServerList}}),{project:function(){return{id:this.currentProject?this.currentProject.id:null,name:this.name,description:this.description,proxyUrl:this.proxyUrl?this.proxyUrl.url:null,global:this.proxyGlobal}},api:function(){return{autoUpdate:this.autoUpdate,delay:this.delay,runStyle:this.runType?this.runType.name:null,projectId:this.currentProject?this.currentProject.id:null}}}),watch:{currentProject:{handler:function(t){t&&(this.name=t.name,this.description=t.description,this.proxyUrl={url:t.proxyUrl})},deep:!0}},beforeCreate:function(){this.$store.dispatch(U.project.queryProxyServer,this.$route.params.id)},methods:{onSaveProject:function(){var t=this;this.$store.dispatch(U.project.update,this.project).then(function(){t.$message({message:"更新成功"})}).catch(function(e){t.$message({type:"error",message:"更新项目失败"}),console.error("更新项目失败",e)})},onUpdateApiList:function(){var t=this;this.$store.dispatch(U.api.updateList,this.api).then(function(){t.$message({message:"更新成功"})}).catch(function(e){t.$message({type:"error",message:"批量更新API失败"}),console.error("批量更新API失败",e)})}}},De=Ie,qe=(a("28d7"),Object(c["a"])(De,Ge,Ue,!1,null,null,null));qe.options.__file="index.vue";var Te=qe.exports;n["a"].use(m["a"]);var Ne=new m["a"]({mode:"history",routes:[{path:"/",name:w.index,component:T,redirect:{name:w.project.manage},children:[{path:"register",name:w.register,component:Ae},{path:"login",name:w.login,component:rt},{path:"project/manage",name:w.project.manage,component:X},{path:"project/create",name:w.project.create,component:B},{path:"console/:id",name:w.console.index,component:vt,redirect:{name:w.console.dev},children:[{path:"dev",name:w.console.dev,component:je},{path:"doc",name:w.console.doc,component:$e},{path:"setting",name:w.console.setting,component:Te}]}]}]});Ne.beforeEach(function(t,e,a){a()});var Me,Fe,Re,ze,Be,Ve=Ne,Je=a("a322"),He=a("c665"),We=a("aa9a"),Ke=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{state:{},mutations:{},getters:{},actions:{}};Object(He["a"])(this,t),this.id=h.guid(),this.state=this.getState(e),this.mutations=this.getMutation(e),this.getters=e.getters,this.actions=e.actions}return Object(We["a"])(t,[{key:"getState",value:function(t){var e=h.clone(t.state);for(var a in e.error={},e.ready={},t.state)e[a]=t.state[a],e.ready[a]=!1,e.error[a]=!1;return e}},{key:"getMutation",value:function(t){var e=this,a=h.clone(t.mutations),n=function(t){var n=t.match(/\S/)[0],r=t.replace(n,n.toUpperCase());a["set".concat(r,"Ready").concat(e.id)]=function(e,a){e.ready[t]=a},a["set".concat(r,"Error").concat(e.id)]=function(e,a){e.error[t]=a}};for(var r in t.state)n(r);return a}},{key:"setReady",value:function(t,e,a){var n=e.match(/\S/)[0],r=e.replace(n,n.toUpperCase());t.commit("set".concat(r,"Ready").concat(this.id),a)}},{key:"setError",value:function(t,e,a){var n=e.match(/\S/)[0],r=e.replace(n,n.toUpperCase());t.commit("set".concat(r,"Error").concat(this.id),a)}}]),t}(),Ye=Ke,Qe=new Ye({state:{dataStore:[]},mutations:Object(Je["a"])({},A.demo.update,function(t,e){t.dataStore=e}),getters:Object(Je["a"])({},P.demo.getFirst,function(t){return t.dataStore[0]}),actions:Object(Je["a"])({},U.demo.queryData,function(t,e){return new Promise(function(a,n){x({url:O.demo.queryData,data:e}).then(function(e){t.commit(A.demo.update,e),a()}).catch(function(t){n(t)})})})}),Xe=Qe,Ze=new Ye({state:{user:null},mutations:Object(Je["a"])({},A.user.setUser,function(t,e){t.user=e}),actions:(Me={},Object(Je["a"])(Me,U.user.login,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{username:"",password:""};return new Promise(function(a,n){x({url:O.user.login,data:e}).then(function(e){t.commit(A.user.setUser,e.data),a()}).catch(function(t){n(t)})})}),Object(Je["a"])(Me,U.user.logout,function(t){return new Promise(function(e,a){x({url:O.user.logout,method:"get"}).then(function(){t.commit(A.user.setUser,null),e()}).catch(function(t){a(t)})})}),Object(Je["a"])(Me,U.user.getUser,function(t){return new Promise(function(e,a){x({url:O.user.getCurrent,method:"get"}).then(function(a){t.commit(A.user.setUser,a.data),e()}).catch(function(t){a(t)})})}),Object(Je["a"])(Me,U.user.addUser,function(t,e){return new Promise(function(t,a){x({url:O.user.add,data:e}).then(function(){t()}).catch(function(t){a(t)})})}),Me)}),ta=Ze,ea=new Ye({state:{list:[],proxyServerList:[],currentProject:null},mutations:(Fe={},Object(Je["a"])(Fe,A.project.setList,function(t,e){t.list=e}),Object(Je["a"])(Fe,A.project.setCurrent,function(t,e){t.currentProject=e}),Object(Je["a"])(Fe,A.project.del,function(t,e){t.list.forEach(function(a,n){a.id===e&&t.list.splice(n,1)})}),Object(Je["a"])(Fe,A.project.setProxyServerList,function(t,e){t.proxyServerList=e}),Fe),actions:(Re={},Object(Je["a"])(Re,U.project.query,function(t){return ea.setError(t,"list",!1),ea.setReady(t,"list",!1),new Promise(function(e,a){x({url:O.project.query}).then(function(a){t.commit(A.project.setList,a.data),ea.setReady(t,"list",!0),e()}).catch(function(e){ea.setReady(t,"list",!0),ea.setError(t,"list",!0),a(e)})})}),Object(Je["a"])(Re,U.project.getById,function(t,e){return new Promise(function(a,n){x({url:O.project.getById,method:"get",data:{id:e}}).then(function(e){t.commit(A.project.setCurrent,e.data),a()}).catch(function(t){n(t)})})}),Object(Je["a"])(Re,U.project.create,function(t,e){return new Promise(function(t,a){x({url:O.project.create,data:e}).then(function(e){t(e.data)}).catch(function(t){a(t)})})}),Object(Je["a"])(Re,U.project.del,function(t,e){return new Promise(function(a,n){x({url:O.project.del,data:{id:e},method:"delete"}).then(function(n){t.commit(A.project.del,e),a()}).catch(function(t){n(t)})})}),Object(Je["a"])(Re,U.project.queryProxyServer,function(t,e){return new Promise(function(a,n){ea.setReady(t,"proxyServerList",!1),ea.setError(t,"proxyServerList",!1),x({url:O.project.queryProxyServer,method:"get",data:{projectId:e}}).then(function(e){t.commit(A.project.setProxyServerList,e.data),ea.setReady(t,"proxyServerList",!0),a()}).catch(function(e){ea.setError(t,"proxyServerList",!0),n(e)})})}),Object(Je["a"])(Re,U.project.update,function(t,e){return new Promise(function(a,n){x({url:O.project.update,data:e}).then(function(e){t.commit(A.project.setCurrent,e.data),a()}).catch(function(t){n(t)})})}),Re)}),aa=ea,na=new Ye({state:{groupList:[]},mutations:(ze={},Object(Je["a"])(ze,A.api.setGroupList,function(t,e){t.groupList=e}),Object(Je["a"])(ze,A.api.addGroup,function(t,e){t.groupList.push(e)}),Object(Je["a"])(ze,A.api.updateGroup,function(t,e){t.groupList.forEach(function(t){t.id===e.id&&(t=e)})}),Object(Je["a"])(ze,A.api.del,function(t,e){t.groupList.forEach(function(t){t.apiList.forEach(function(a,n){a.id===e&&t.apiList.splice(n,1)})})}),ze),actions:(Be={},Object(Je["a"])(Be,U.api.queryGroup,function(t,e){return new Promise(function(a,n){x({url:O.api.queryGroup,data:{projectId:e}}).then(function(e){t.commit(A.api.setGroupList,e.data),a()}).catch(function(t){n(t)})})}),Object(Je["a"])(Be,U.api.getById,function(t,e){return new Promise(function(t,a){x({url:O.api.getById,method:"get",data:{id:e}}).then(function(e){t(e.data)}).catch(function(t){a(t)})})}),Object(Je["a"])(Be,U.api.update,function(t,e){return new Promise(function(t,a){x({url:O.api.update,data:e}).then(function(){t()}).catch(function(t){a(t)})})}),Object(Je["a"])(Be,U.api.addGroup,function(t,e){return new Promise(function(a,n){x({url:O.api.addGroup,data:e}).then(function(e){t.commit(A.api.addGroup,e.data),a()}).catch(function(t){n(t)})})}),Object(Je["a"])(Be,U.api.updateGroup,function(t,e){return new Promise(function(a,n){x({url:O.api.updateGroup,data:e}).then(function(){t.commit(A.api.updateGroup,e),a()}).catch(function(t){n(t)})})}),Object(Je["a"])(Be,U.api.delGroup,function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{id:"",projectId:""};return new Promise(function(t,a){x({url:O.api.deleteGroup,data:e,method:"delete"}).then(function(){t()}).catch(function(t){a(t)})})}),Object(Je["a"])(Be,U.api.del,function(t,e){return new Promise(function(a,n){x({url:O.api.del,method:"delete",data:{id:e}}).then(function(){t.commit(A.api.del,e),a()}).catch(function(t){n(t)})})}),Object(Je["a"])(Be,U.api.add,function(t,e){return new Promise(function(t,a){x({url:O.api.add,data:e}).then(function(e){t(e.data)}).catch(function(t){a(t)})})}),Object(Je["a"])(Be,U.api.updateList,function(t,e){return new Promise(function(t,a){x({url:O.api.updateList,data:e}).then(function(){t()}).catch(function(t){a(t)})})}),Be)}),ra=na,ia=new Ye({state:{methodList:["GET","POST","DELETE","PUT"].map(function(t){return{name:t}}),runTypeList:["staticMock","scriptMock","proxy","auto","test"].map(function(t){return{name:t}}),fieldType:["String","Number","Boolean","Object","Array"].map(function(t){return{name:t}})},mutations:{},actions:{}}),oa=ia;n["a"].use(W["a"]);var sa=new W["a"].Store({modules:{demo:Xe,user:ta,project:aa,api:ra,common:oa}}),ca=a("81e2"),ua=a.n(ca);a("bb73");n["a"].use(ua.a),n["a"].config.productionTip=!1,n["a"].config.devtools=!0,new n["a"]({router:Ve,store:sa,render:function(t){return t(d)}}).$mount("#app")},"59d3":function(t,e,a){},"5bd4":function(t,e,a){"use strict";var n=a("c83c"),r=a.n(n);r.a},"5cb6":function(t,e,a){"use strict";var n=a("9299"),r=a.n(n);r.a},"5ee7":function(t,e,a){"use strict";var n=a("e3d2"),r=a.n(n);r.a},"659e":function(t,e,a){},"692a":function(t,e,a){"use strict";var n=a("b65d"),r=a.n(n);r.a},"6dd8":function(t,e,a){},"71e5":function(t,e,a){},7386:function(t,e,a){},"878c":function(t,e,a){},"887e":function(t,e,a){"use strict";var n=a("403d"),r=a.n(n);r.a},"8f18":function(t,e,a){"use strict";var n=a("3b75"),r=a.n(n);r.a},9299:function(t,e,a){},"963b":function(t,e,a){},9646:function(t,e,a){"use strict";var n=a("0f22"),r=a.n(n);r.a},a402:function(t,e,a){},b65d:function(t,e,a){},c83c:function(t,e,a){},cbe5:function(t,e,a){},cf25:function(t,e,a){"use strict";var n=a("7386"),r=a.n(n);r.a},d9fc:function(t,e,a){"use strict";var n=a("71e5"),r=a.n(n);r.a},dfaa:function(t,e,a){},e080:function(t,e,a){"use strict";var n=a("191b"),r=a.n(n);r.a},e3d2:function(t,e,a){},ea0a:function(t,e,a){"use strict";var n=a("cbe5"),r=a.n(n);r.a},ede9:function(t,e,a){"use strict";var n=a("dfaa"),r=a.n(n);r.a},ef9e:function(t,e,a){"use strict";var n=a("878c"),r=a.n(n);r.a},f139:function(t,e,a){"use strict";var n=a("a402"),r=a.n(n);r.a}});
//# sourceMappingURL=app.1a8afd9c.js.map